
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A template for future MkDocs wikis">
      
      
        <meta name="author" content="juananmora">
      
      
      
      
      
      <link rel="icon" href="../assets/senyal.jpg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>About - Marc d'Automatització de Testing</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#contents" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Marc d&#39;Automatització de Testing" class="md-header__button md-logo" aria-label="Marc d'Automatització de Testing" data-md-component="logo">
      
  <img src="../assets/gencatwhite.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Marc d'Automatització de Testing
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              About
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/juananmora/mkdocs-sample1" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    juananmora/mkdocs-sample1
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../index2/" class="md-tabs__link">
        
  
    
  
  What is MAT

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../mat/" class="md-tabs__link">
        
  
    
  
  Features

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../mat/installation.md" class="md-tabs__link">
        
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../mat/configuration.md" class="md-tabs__link">
        
  
    
  
  Configuration

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../usage/functional/" class="md-tabs__link">
        
  
    
  
  Usage

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../mat/changelog.md" class="md-tabs__link">
        
  
    
  
  Changelog

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../mat/license.md" class="md-tabs__link">
        
  
    
  
  License

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../mat/contact.md" class="md-tabs__link">
        
  
    
  
  Contact

      </a>
    </li>
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../mat/pipeline/" class="md-tabs__link">
          
  
    
  
  Type of Tests

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../jenkins/selenium/" class="md-tabs__link">
          
  
    
  
  Jenkins

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Marc d&#39;Automatització de Testing" class="md-nav__button md-logo" aria-label="Marc d'Automatització de Testing" data-md-component="logo">
      
  <img src="../assets/gencatwhite.png" alt="logo">

    </a>
    Marc d'Automatització de Testing
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/juananmora/mkdocs-sample1" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    juananmora/mkdocs-sample1
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is MAT
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Features
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mat/installation.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mat/configuration.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/functional/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mat/changelog.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mat/license.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mat/contact.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Type of Tests
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Type of Tests
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_1" >
        
          
          <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Continuous Testing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            Continuous Testing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mat/pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microserveis PRE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tdest.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Legacy PRE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Producció
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_2" >
        
          
          <label class="md-nav__link" for="__nav_9_2" id="__nav_9_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Test Funcionales
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_2">
            <span class="md-nav__icon md-icon"></span>
            Test Funcionales
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tests/selenium/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selenium
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Playwright
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_3" >
        
          
          <label class="md-nav__link" for="__nav_9_3" id="__nav_9_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Test Performance
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3">
            <span class="md-nav__icon md-icon"></span>
            Test Performance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tests/jmeter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JMeter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Playwright
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_4" >
        
          
          <label class="md-nav__link" for="__nav_9_4" id="__nav_9_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Test API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_4">
            <span class="md-nav__icon md-icon"></span>
            Test API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tests/test.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SOAPUI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tests/postman/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postman
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Jenkins
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Jenkins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jenkins/selenium/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selenium
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jenkins/jmeter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JMeter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jenkins/postman/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postman
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jenkins/owasp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OWasp
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#contents" class="md-nav__link">
    <span class="md-ellipsis">
      Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-layout" class="md-nav__link">
    <span class="md-ellipsis">
      Project layout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-recomended" class="md-nav__link">
    <span class="md-ellipsis">
      Usage Recomended
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start-local-machine-not-dockerized" class="md-nav__link">
    <span class="md-ellipsis">
      Quick start (Local Machine not Dockerized)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#execution-modes" class="md-nav__link">
    <span class="md-ellipsis">
      Execution modes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Execution modes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standalone" class="md-nav__link">
    <span class="md-ellipsis">
      Standalone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hub-and-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Hub and Nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hub and Nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-networking" class="md-nav__link">
    <span class="md-ellipsis">
      Docker networking
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Docker networking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macoslinux" class="md-nav__link">
    <span class="md-ellipsis">
      macOS/Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-powershell" class="md-nav__link">
    <span class="md-ellipsis">
      Windows PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-different-machinesvms" class="md-nav__link">
    <span class="md-ellipsis">
      Using different machines/VMs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using different machines/VMs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hub-machinevm-1" class="md-nav__link">
    <span class="md-ellipsis">
      Hub - Machine/VM 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-chrome-machinevm-2" class="md-nav__link">
    <span class="md-ellipsis">
      Node Chrome - Machine/VM 2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node Chrome - Machine/VM 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macoslinux_1" class="md-nav__link">
    <span class="md-ellipsis">
      macOS/Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-powershell_1" class="md-nav__link">
    <span class="md-ellipsis">
      Windows PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-edge-machinevm-3" class="md-nav__link">
    <span class="md-ellipsis">
      Node Edge - Machine/VM 3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node Edge - Machine/VM 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macoslinux_2" class="md-nav__link">
    <span class="md-ellipsis">
      macOS/Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-powershell_2" class="md-nav__link">
    <span class="md-ellipsis">
      Windows PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-firefox-machinevm-4" class="md-nav__link">
    <span class="md-ellipsis">
      Node Firefox - Machine/VM 4
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node Firefox - Machine/VM 4">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macoslinux_3" class="md-nav__link">
    <span class="md-ellipsis">
      macOS/Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-powershell_3" class="md-nav__link">
    <span class="md-ellipsis">
      Windows PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-chrome-machinevm-4" class="md-nav__link">
    <span class="md-ellipsis">
      Node Chrome - Machine/VM 4
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node Chrome - Machine/VM 4">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macoslinux_4" class="md-nav__link">
    <span class="md-ellipsis">
      macOS/Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-powershell_4" class="md-nav__link">
    <span class="md-ellipsis">
      Windows PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-compose" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Compose
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Docker Compose">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version-2" class="md-nav__link">
    <span class="md-ellipsis">
      Version 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-3" class="md-nav__link">
    <span class="md-ellipsis">
      Version 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-3-with-swarm-support" class="md-nav__link">
    <span class="md-ellipsis">
      Version 3 with Swarm support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully-distributed-mode-router-queue-distributor-eventbus-sessionmap-and-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Fully distributed mode - Router, Queue, Distributor, EventBus, SessionMap and Nodes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#video-recording" class="md-nav__link">
    <span class="md-ellipsis">
      Video recording
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-grid" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Grid
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dynamic Grid">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-example" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-with-hub-node-roles" class="md-nav__link">
    <span class="md-ellipsis">
      Execution with Hub &amp; Node roles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Execution with Hub & Node roles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macoslinux_5" class="md-nav__link">
    <span class="md-ellipsis">
      macOS/Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-powershell_5" class="md-nav__link">
    <span class="md-ellipsis">
      Windows PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-with-standalone-roles" class="md-nav__link">
    <span class="md-ellipsis">
      Execution with Standalone roles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Execution with Standalone roles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macoslinux_6" class="md-nav__link">
    <span class="md-ellipsis">
      macOS/Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-powershell_6" class="md-nav__link">
    <span class="md-ellipsis">
      Windows PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-dynamic-grid-in-different-machinesvms" class="md-nav__link">
    <span class="md-ellipsis">
      Using Dynamic Grid in different machines/VMs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Dynamic Grid in different machines/VMs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hub-machinevm-1_1" class="md-nav__link">
    <span class="md-ellipsis">
      Hub - Machine/VM 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-chrome-machinevm-2_1" class="md-nav__link">
    <span class="md-ellipsis">
      Node Chrome - Machine/VM 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macoslinux_7" class="md-nav__link">
    <span class="md-ellipsis">
      macOS/Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-powershell_7" class="md-nav__link">
    <span class="md-ellipsis">
      Windows PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-with-docker-compose" class="md-nav__link">
    <span class="md-ellipsis">
      Execution with Docker Compose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-child-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring the child containers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring the child containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macoslinux_8" class="md-nav__link">
    <span class="md-ellipsis">
      macOS/Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-powershell_8" class="md-nav__link">
    <span class="md-ellipsis">
      Windows PowerShell
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-recording-screen-resolution-and-time-zones-in-a-dynamic-grid" class="md-nav__link">
    <span class="md-ellipsis">
      Video recording, screen resolution, and time zones in a Dynamic Grid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying-to-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying to Kubernetes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring the containers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring the containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#se_opts-selenium-configuration-options" class="md-nav__link">
    <span class="md-ellipsis">
      SE_OPTS Selenium Configuration Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#se_java_opts-java-environment-options" class="md-nav__link">
    <span class="md-ellipsis">
      SE_JAVA_OPTS Java Environment Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-configuration-options" class="md-nav__link">
    <span class="md-ellipsis">
      Node configuration options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-sub-path" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Sub Path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-screen-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Screen Resolution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grid-url-and-session-timeout" class="md-nav__link">
    <span class="md-ellipsis">
      Grid Url and Session Timeout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-request-timeout" class="md-nav__link">
    <span class="md-ellipsis">
      Session request timeout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#increasing-session-concurrency-per-container" class="md-nav__link">
    <span class="md-ellipsis">
      Increasing session concurrency per container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-in-headless-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Running in Headless mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stopping-the-nodestandalone-after-n-sessions-have-been-executed" class="md-nav__link">
    <span class="md-ellipsis">
      Stopping the Node/Standalone after N sessions have been executed
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-the-images" class="md-nav__link">
    <span class="md-ellipsis">
      Building the images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#waiting-for-the-grid-to-be-ready" class="md-nav__link">
    <span class="md-ellipsis">
      Waiting for the Grid to be ready
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Waiting for the Grid to be ready">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-healthcheck-to-the-grid" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a HEALTHCHECK to the Grid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-a-bash-script-to-wait-for-the-grid" class="md-nav__link">
    <span class="md-ellipsis">
      Using a bash script to wait for the Grid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-certificates-for-chromium-based-browsers" class="md-nav__link">
    <span class="md-ellipsis">
      Install certificates for Chromium-based browsers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-method-add-certificates-to-existing-selenium-based-images-for-browsers" class="md-nav__link">
    <span class="md-ellipsis">
      Alternative method: Add certificates to existing Selenium based images for browsers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Debugging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-a-vnc-client" class="md-nav__link">
    <span class="md-ellipsis">
      Using a VNC client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-your-browser-no-vnc-client-is-needed" class="md-nav__link">
    <span class="md-ellipsis">
      Using your browser (no VNC client is needed)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disabling-vnc" class="md-nav__link">
    <span class="md-ellipsis">
      Disabling VNC
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tracing-in-grid" class="md-nav__link">
    <span class="md-ellipsis">
      Tracing in Grid
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-shm-size2g" class="md-nav__link">
    <span class="md-ellipsis">
      --shm-size="2g"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#headless" class="md-nav__link">
    <span class="md-ellipsis">
      Headless
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mounting-volumes-to-retrieve-downloaded-files" class="md-nav__link">
    <span class="md-ellipsis">
      Mounting volumes to retrieve downloaded files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/juananmora/mkdocs-sample1/edit/master/docs/about.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/juananmora/mkdocs-sample1/raw/master/docs/about.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


  <h1>About</h1>

<h2 id="contents">Contents<a class="headerlink" href="#contents" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#project-layout">Project layout</a></li>
<li><a href="#quick-start-(local-machine-not-dockerized)">Quick start (Local Machine not Dockerized)</a></li>
<li><a href="#execution-modes">Execution modes</a></li>
<li><a href="#standalone">Standalone</a></li>
<li><a href="#hub-and-nodes">Hub and Nodes</a><ul>
<li><a href="#docker-networking">Docker networking</a></li>
<li><a href="#using-different-machinesvms">Using different machines/VMs</a></li>
<li><a href="#docker-compose">Docker Compose</a></li>
</ul>
</li>
<li><a href="#fully-distributed-mode---router-queue-distributor-eventbus-sessionmap-and-nodes">Fully distributed mode - Router, Queue, Distributor, EventBus, SessionMap and Nodes</a></li>
<li><a href="#video-recording">Video recording</a></li>
<li><a href="#dynamic-grid">Dynamic Grid</a></li>
<li><a href="#configuration-example">Configuration example</a></li>
<li><a href="#execution-with-hub--node-roles">Execution with Hub &amp; Node roles</a></li>
<li><a href="#execution-with-standalone-roles">Execution with Standalone roles</a></li>
<li><a href="#using-dynamic-grid-in-different-machinesvms">Using Dynamic Grid in different machines/VMs</a></li>
<li><a href="#execution-with-docker-compose">Execution with Docker Compose</a></li>
<li><a href="#video-recording-screen-resolution-and-time-zones-in-a-dynamic-grid">Video recording, screen resolution, and time zones in a Dynamic Grid</a></li>
<li><a href="#deploying-to-kubernetes">Kubernetes</a></li>
<li><a href="#configuring-the-containers">Configuring the containers</a></li>
<li><a href="#se_opts-selenium-configuration-options">SE_OPTS Selenium Configuration Options</a></li>
<li><a href="#se_java_opts-java-environment-options">SE_JAVA_OPTS Java Environment Options</a></li>
<li><a href="#node-configuration-options">Node configuration options</a></li>
<li><a href="#setting-sub-path">Setting Sub Path</a></li>
<li><a href="#setting-screen-resolution">Setting Screen Resolution</a></li>
<li><a href="#grid-url-and-session-timeout">Grid Url and Session Timeout</a></li>
<li><a href="#session-request-timeout">Session request timeout</a></li>
<li><a href="#increasing-session-concurrency-per-container">Increasing session concurrency per container</a></li>
<li><a href="#running-in-headless-mode">Running in Headless mode</a></li>
<li><a href="#building-the-images">Building the images</a></li>
<li><a href="#waiting-for-the-grid-to-be-ready">Waiting for the Grid to be ready</a></li>
<li><a href="#debugging">Debugging</a></li>
<li><a href="#install-certificates-for-Chromium-based-browsers">Install certificates for Chromium based browsers</a></li>
<li><a href="#tracing-in-grid">Tracing in Grid</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
</ul>
<h2 id="project-layout">Project layout<a class="headerlink" href="#project-layout" title="Permanent link">&para;</a></h2>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>functional-test
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>│   docker-compose-v3.yml      -&gt; Docker Compose file for Selenium Grid.
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>│   TestNG.xml                 -&gt; Definición de las pruebas
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>│   pom.xml                    -&gt; Fichero de dependencias
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>│   README.md
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>│
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>└───.devcontainer                  -&gt; Definición contenedores IDE VSCode
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>│   │   devcontainer.json
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>└───resources                  
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>│   │   resources.properties    -&gt; Definición variables
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>│   |   spark-config.json       -&gt; Definición variables informe html
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>├───src
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>│   └───main/java                         -&gt; Clases de inicialización de los drivers
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>│   │   │   CapabilityFactory.java         
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>│   │   │   Init.java
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>│   │   │   ExecutionListener.java
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>|   |   |   ResultSender.java
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>│   │   │   OptionsManager.java
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>|   |   |   ExtentManager.java
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>│   │   │
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>│   │   └───Pages                         
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>│   │   │      QualityGenCatPage.java
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>│   │   │
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>│   │   └───Utilities
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>│   │          Common.java
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>│   │          QualityGenCatPage.java
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>│   │ 
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>│   └───main/resources                         
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>│   │   │   log4j2.properties           -&gt; Fichero de configuración de la librería log4j
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>│   └───test/java     
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>│           QualityGenCatTest.java      -&gt; Ejemplo Clase de prueba 
</span></code></pre></div>
<ol>
<li>Classes Diagram (UML)</li>
</ol>
<pre class="mermaid"><code>classDiagram
    class QualityGenCatTest {
        +qualityGenCatTest()
    }

    class QualityGenCatPage {
        -driver: WebDriver
        -log: Logger
        +QualityGenCatPage(driver: WebDriver, log: Logger)
        +navigateTo()
        +clickDestacatsLink()
        +clickIniciLink()
        +clickEinesLink()
        +clickSeleniumLink()
        +getTextDestacats(): String
    }

    class PageElements {
        &lt;&lt;final&gt;&gt;
        +qualitatGenCatUrl: String
        +cttiCatUrl: String
        &lt;&lt;final&gt;&gt;
        +usernameCssLocator: By
        &lt;&lt;final&gt;&gt;
        +passwordCssLocator: By
        &lt;&lt;final&gt;&gt;
        +loginMenuButtonLocator: By
        &lt;&lt;final&gt;&gt;
        +loginButtonLocator: By
        &lt;&lt;final&gt;&gt;
        +destacatsLocator: By
        &lt;&lt;final&gt;&gt;
        +ejemploLocator: By
        &lt;&lt;final&gt;&gt;
        +einesLink: By
        &lt;&lt;final&gt;&gt;
        +seleniumLink: By
        &lt;&lt;final&gt;&gt;
        +iniciLink: By
    }

    class Init {
        -driver: ThreadLocal&lt;RemoteWebDriver&gt;
        +setup(browser: String)
        +getDriver(): WebDriver
        +tearDown()
        +terminate()
    }

    class OptionsManager {
        &lt;&lt;static&gt;&gt;
        +getChromeOptions(): ChromeOptions
        &lt;&lt;static&gt;&gt;
        +getFirefoxOptions(): FirefoxOptions
        &lt;&lt;static&gt;&gt;
        +getEdgeOptions(): EdgeOptions
    }

    class CapabilityFactory {
        +capabilities: Capabilities
        +getCapabilities(browser: String): Capabilities
    }

    class Common {
        -driver: WebDriver
        +Common(driver: WebDriver)
        +setSize()
    }

    class ExtentManager{
        -static ExtentReports extent
        -static ExtentSparkReporter sparkReporter
        -static ThreadLocal&lt;ExtentTest&gt; extentTest
        +static getInstance() : ExtentReports
        +static createTest(testName : String) : ExtentTest
        +static getTest() : ExtentTest
        +static flushReports() : void
    }

    class ResultSender {
        -static application2: String
        -static token2: char[]
        -static influxDBClient: InfluxDBClient
        -static writeApi: WriteApiBlocking
        +static send(point: Point)
        +static getApplication(): String
    }

    class ExecutionListener implements ITestListener {
        +onTestStart(iTestResult: ITestResult)
        +onTestSuccess(iTestResult: ITestResult)
        +onTestFailure(iTestResult: ITestResult)
        +onTestSkipped(iTestResult: ITestResult)
        +onTestFailedButWithinSuccessPercentage(iTestResult: ITestResult)
        +onStart(iTestContext: ITestContext)
        +onFinish(iTestContext: ITestContext)
        -sendTestMethodStatus(iTestResult: ITestResult, context: ITestContext, status: String)
        -sendTestClassStatus(iTestContext: ITestContext)
    }

    QualityGenCatTest --|&gt; Init
    QualityGenCatTest --&gt; QualityGenCatPage
    QualityGenCatTest --&gt; Common
    QualityGenCatPage --&gt; PageElements
    Init --&gt; CapabilityFactory
    QualityGenCatTest --&gt; ExtentManager
    CapabilityFactory --&gt; OptionsManager
    ResultSender --|&gt; Init
    ExecutionListener --|&gt; ITestListener


</code></pre>
<h2 id="usage-recomended">Usage Recomended<a class="headerlink" href="#usage-recomended" title="Permanent link">&para;</a></h2>
<p>Visit for more information: <a href="https://github.com/SeleniumHQ/docker-selenium/tree/trunk">https://github.com/SeleniumHQ/docker-selenium/tree/trunk</a></p>
<ol>
<li>Clone the example repo:</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://git.intranet.gencat.cat/devsecopsctti/functional-test.git
</span></code></pre></div>
<ol>
<li>Modify properties is resources.properties file
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>selenium.server.url.docker<span class="o">=</span>http://admin:admin@selenium-router.selenium-grid:4444/wd/hub<span class="w">           </span>//Selenium<span class="w"> </span>grid<span class="w"> </span>URL
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>selenium.server.url.local<span class="o">=</span>http://host.docker.internal:4444/wd/hub<span class="w">    </span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>selenium.driver.remoto<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>selenium.geckodriver.local<span class="w"> </span><span class="o">=</span><span class="w"> </span>C:<span class="se">\\</span>Program<span class="w"> </span>Files<span class="se">\\</span>Mozilla<span class="w"> </span>Firefox<span class="se">\\</span>firefox.exe
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="nv">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1234</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="nv">application</span><span class="o">=</span>petclinic
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="nv">maintainer</span><span class="o">=</span>CTTI
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>//InfluxDB
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="nv">token</span><span class="o">=</span>N8q9E5ffCYlhJa0woci0
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="c1">#urlInfluxDB=http://influxdb.ctti-eks.aws</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="nv">urlInfluxDB</span><span class="o">=</span>http://influxdb.monitor:8086
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="nv">bucket</span><span class="o">=</span>selenium
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="nv">company</span><span class="o">=</span>primary
</span></code></pre></div></li>
<li>Install Selenium Grid &amp; Launch Test Execution</li>
</ol>
<p><div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Install Selenium Grid Mesh</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>docker-compose<span class="w"> </span>-f<span class="w"> </span>docker-compose-v3.yml<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--scale<span class="w"> </span><span class="nv">chrome</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>--scale<span class="w"> </span><span class="nv">firefox</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>--scale<span class="w"> </span><span class="nv">edge</span><span class="o">=</span><span class="m">1</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># test project execution</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w"> </span>mvn<span class="w"> </span>clean<span class="w"> </span>package<span class="w"> </span>-Dbuildnumber<span class="o">=</span><span class="s2">&quot;valor_build&quot;</span><span class="w"> </span>-Djobname<span class="o">=</span><span class="s2">&quot;valor_job&quot;</span><span class="w">  </span>-Denvironment<span class="o">=</span><span class="s2">&quot;entorno&quot;</span><span class="w"> </span>-Durlgrid<span class="o">=</span><span class="s2">&quot;http://localhost:4444/wd/hub&quot;</span>
</span></code></pre></div>
1. Las variables: <code>buildnumber, jobname</code>, son variables que serán actualizadas por Jenkins, pero en una ejecución local pueden tener cualquier valor.
2. <code>environment</code>:tendrá en valor del entorno donde se están ejecutando las pruebas p.e.: desarrollo, preproduccion, produccion.
3. <code>urlgrid</code>: es la url de Selenium Grid</p>
<h2 id="quick-start-local-machine-not-dockerized">Quick start (Local Machine not Dockerized)<a class="headerlink" href="#quick-start-local-machine-not-dockerized" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Download Selenium Server (Grid) from <a href="https://www.selenium.dev/downloads/">https://www.selenium.dev/downloads/</a></p>
</li>
<li>
<p>Download Chrome And Firefox Drivers compatibles with your navigator versions and copy them in the same folder that Selenium Server jar</p>
</li>
<li>
<p>Execute:</p>
</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>java<span class="w"> </span>-jar<span class="w"> </span>selenium-server-4.10.0.jar<span class="w"> </span>standalone
</span></code></pre></div>
<ol>
<li>
<p>Open the url <a href="http://localhost:4444/wd/hub">http://localhost:4444/wd/hub</a> and check Selenium Grid is Up &amp; Running</p>
</li>
<li>
<p>Modify properties is resources.properties file
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>selenium.server.url.docker<span class="o">=</span>http://localhost:4444/wd/hub
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>selenium.server.url.local<span class="o">=</span>http://host.docker.internal:4444/wd/hub<span class="w">    </span>//if<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>running<span class="w"> </span><span class="nb">test</span><span class="w"> </span>from<span class="w"> </span>a<span class="w"> </span>container<span class="w"> </span>you<span class="w"> </span>must<span class="w"> </span>put<span class="w"> </span>the<span class="w"> </span>url<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>host,<span class="w"> </span><span class="k">if</span><span class="w"> </span>not<span class="w"> </span>put<span class="w"> </span>localhost.<span class="w"> </span>Probably<span class="w"> </span>you<span class="w"> </span>must<span class="w"> </span>create<span class="w"> </span>some<span class="w"> </span>internal<span class="w"> </span>firewall<span class="w"> </span>rules<span class="w"> </span>like<span class="w"> </span>open<span class="w"> </span><span class="m">4444</span><span class="w"> </span>port.
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>selenium.driver.remoto<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>selenium.geckodriver.local<span class="w"> </span><span class="o">=</span><span class="w"> </span>C:<span class="se">\\</span>Program<span class="w"> </span>Files<span class="se">\\</span>Mozilla<span class="w"> </span>Firefox<span class="se">\\</span>firefox.exe
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="nv">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1234</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="nv">application</span><span class="o">=</span>petclinic
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="nv">maintainer</span><span class="o">=</span>CTTI
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>//InfluxDB
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="nv">token</span><span class="o">=</span>N8q9E5ffCYlhJa0woci0
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="c1">#urlInfluxDB=http://influxdb.ctti-eks.aws</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="nv">urlInfluxDB</span><span class="o">=</span>http://influxdb.monitor:8086
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="nv">bucket</span><span class="o">=</span>selenium
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="nv">company</span><span class="o">=</span>primary
</span></code></pre></div></p>
</li>
<li>Test Project Execution</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>mvn<span class="w"> </span>clean<span class="w"> </span>package<span class="w"> </span>-Dbuildnumber<span class="o">=</span><span class="s2">&quot;valor_build&quot;</span><span class="w"> </span>-Djobname<span class="o">=</span><span class="s2">&quot;valor_job&quot;</span><span class="w">  </span>-Denvironment<span class="o">=</span><span class="s2">&quot;entorno&quot;</span><span class="w"> </span>-Durlgrid<span class="o">=</span><span class="s2">&quot;http://localhost:4444/wd/hub&quot;</span>
</span></code></pre></div>
<ol>
<li>Test Project Execution in CI Tool</li>
</ol>
<p>Pass Selenium Grid Url as a Property</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>mvn<span class="w"> </span>clean<span class="w"> </span>package<span class="w"> </span>-Dbuildnumber<span class="o">=</span><span class="nv">$BUILD_NUMBER</span><span class="w"> </span>-Djobname<span class="o">=</span><span class="nv">$JOB_NAME</span><span class="w">  </span>-Denvironment<span class="o">=</span><span class="s2">&quot;entorno&quot;</span><span class="w"> </span>-Durlgrid<span class="o">=</span><span class="s2">&quot;http://localhost:4444/wd/hub&quot;</span>
</span></code></pre></div>
<h2 id="execution-modes">Execution modes<a class="headerlink" href="#execution-modes" title="Permanent link">&para;</a></h2>
<h3 id="standalone">Standalone<a class="headerlink" href="#standalone" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/firefox/firefox_24x24.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Firefox" src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/firefox/firefox_24x24.png" /></a> Firefox 
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/standalone-firefox:4.12.1-20230912
</span></code></pre></div></p>
<p><a class="glightbox" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/chrome/chrome_24x24.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Chrome" src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/chrome/chrome_24x24.png" /></a> Chrome 
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/standalone-chrome:4.12.1-20230912
</span></code></pre></div></p>
<p><a class="glightbox" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/edge/edge_24x24.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Edge" src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/edge/edge_24x24.png" /></a> Edge
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/standalone-edge:4.12.1-20230912
</span></code></pre></div></p>
<p><em>Note: Only one Standalone container can run on port</em> <code>4444</code> <em>at the same time.</em></p>
<hr />
<h3 id="hub-and-nodes">Hub and Nodes<a class="headerlink" href="#hub-and-nodes" title="Permanent link">&para;</a></h3>
<p>There are different ways to run the images and create a Grid with a Hub and Nodes, check the following options.</p>
<h4 id="docker-networking">Docker networking<a class="headerlink" href="#docker-networking" title="Permanent link">&para;</a></h4>
<p>The Hub and Nodes will be created in the same network and they will recognize each other by their container name.
A Docker <a href="https://docs.docker.com/engine/reference/commandline/network_create/">network</a> needs to be created as a first step.</p>
<h5 id="macoslinux">macOS/Linux<a class="headerlink" href="#macoslinux" title="Permanent link">&para;</a></h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>grid
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4442</span>-4444:4442-4444<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>--name<span class="w"> </span>selenium-hub<span class="w"> </span>selenium/hub:4.12.1-20230912
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>selenium-hub<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">    </span>selenium/node-chrome:4.12.1-20230912
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>selenium-hub<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">    </span>selenium/node-edge:4.12.1-20230912
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>selenium-hub<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">    </span>selenium/node-firefox:4.12.1-20230912
</span></code></pre></div>
<h5 id="windows-powershell">Windows PowerShell<a class="headerlink" href="#windows-powershell" title="Permanent link">&para;</a></h5>
<div class="language-powershell highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">network</span> <span class="n">create</span> <span class="n">grid</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">run</span> <span class="n">-d</span> <span class="n">-p</span> <span class="n">4442</span><span class="p">-</span><span class="n">4444</span><span class="p">:</span><span class="n">4442</span><span class="p">-</span><span class="n">4444</span> <span class="p">-</span><span class="n">-net</span> <span class="n">grid</span> <span class="p">-</span><span class="n">-name</span> <span class="n">selenium-hub</span> <span class="n">selenium</span><span class="p">/</span><span class="n">hub</span><span class="p">:</span><span class="n">4</span><span class="p">.</span><span class="n">12</span><span class="p">.</span><span class="n">1</span><span class="p">-</span><span class="n">20230912</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">run</span> <span class="n">-d</span> <span class="p">-</span><span class="n">-net</span> <span class="n">grid</span> <span class="n">-e</span> <span class="n">SE_EVENT_BUS_HOST</span><span class="p">=</span><span class="n">selenium-hub</span> <span class="p">`</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    <span class="p">-</span><span class="n">-shm-size</span><span class="p">=</span><span class="s2">&quot;2g&quot;</span> <span class="p">`</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_PUBLISH_PORT</span><span class="p">=</span><span class="n">4442</span> <span class="p">`</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="p">=</span><span class="n">4443</span> <span class="p">`</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>    <span class="n">selenium</span><span class="p">/</span><span class="n">node-chrome</span><span class="p">:</span><span class="n">4</span><span class="p">.</span><span class="n">12</span><span class="p">.</span><span class="n">1</span><span class="p">-</span><span class="n">20230912</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">run</span> <span class="n">-d</span> <span class="p">-</span><span class="n">-net</span> <span class="n">grid</span> <span class="n">-e</span> <span class="n">SE_EVENT_BUS_HOST</span><span class="p">=</span><span class="n">selenium-hub</span> <span class="p">`</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>    <span class="p">-</span><span class="n">-shm-size</span><span class="p">=</span><span class="s2">&quot;2g&quot;</span> <span class="p">`</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_PUBLISH_PORT</span><span class="p">=</span><span class="n">4442</span> <span class="p">`</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="p">=</span><span class="n">4443</span> <span class="p">`</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>    <span class="n">selenium</span><span class="p">/</span><span class="n">node-edge</span><span class="p">:</span><span class="n">4</span><span class="p">.</span><span class="n">12</span><span class="p">.</span><span class="n">1</span><span class="p">-</span><span class="n">20230912</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">run</span> <span class="n">-d</span> <span class="p">-</span><span class="n">-net</span> <span class="n">grid</span> <span class="n">-e</span> <span class="n">SE_EVENT_BUS_HOST</span><span class="p">=</span><span class="n">selenium-hub</span> <span class="p">`</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>    <span class="p">-</span><span class="n">-shm-size</span><span class="p">=</span><span class="s2">&quot;2g&quot;</span> <span class="p">`</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_PUBLISH_PORT</span><span class="p">=</span><span class="n">4442</span> <span class="p">`</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="p">=</span><span class="n">4443</span> <span class="p">`</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>    <span class="n">selenium</span><span class="p">/</span><span class="n">node-firefox</span><span class="p">:</span><span class="n">4</span><span class="p">.</span><span class="n">12</span><span class="p">.</span><span class="n">1</span><span class="p">-</span><span class="n">20230912</span>
</span></code></pre></div>
<p>When you are done using the Grid, and the containers have exited, the network can be removed with the following command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Removes the grid network</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>rm<span class="w"> </span>grid
</span></code></pre></div>
<h4 id="using-different-machinesvms">Using different machines/VMs<a class="headerlink" href="#using-different-machinesvms" title="Permanent link">&para;</a></h4>
<p>The Hub and Nodes will be created on different machines/VMs, they need to know each other's IPs to
communicate properly. If more than one node will be running on the same Machine/VM, they must be
configured to expose different ports.</p>
<h5 id="hub-machinevm-1">Hub - Machine/VM 1<a class="headerlink" href="#hub-machinevm-1" title="Permanent link">&para;</a></h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4442</span>-4444:4442-4444<span class="w"> </span>--name<span class="w"> </span>selenium-hub<span class="w"> </span>selenium/hub:4.12.1-20230912
</span></code></pre></div>
<h5 id="node-chrome-machinevm-2">Node Chrome - Machine/VM 2<a class="headerlink" href="#node-chrome-machinevm-2" title="Permanent link">&para;</a></h5>
<h6 id="macoslinux_1">macOS/Linux<a class="headerlink" href="#macoslinux_1" title="Permanent link">&para;</a></h6>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">5555</span>:5555<span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>&lt;ip-from-machine-1&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_NODE_HOST</span><span class="o">=</span>&lt;ip-from-machine-2&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">    </span>selenium/node-chrome:4.12.1-20230912
</span></code></pre></div>
<h6 id="windows-powershell_1">Windows PowerShell<a class="headerlink" href="#windows-powershell_1" title="Permanent link">&para;</a></h6>
<div class="language-powershell highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">run</span> <span class="n">-d</span> <span class="n">-p</span> <span class="n">5555</span><span class="p">:</span><span class="n">5555</span> <span class="p">`</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    <span class="p">-</span><span class="n">-shm-size</span><span class="p">=</span><span class="s2">&quot;2g&quot;</span> <span class="p">`</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_HOST</span><span class="p">=&lt;</span><span class="n">ip-from-machine</span><span class="p">-</span><span class="n">1</span><span class="p">&gt;</span> <span class="p">`</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_PUBLISH_PORT</span><span class="p">=</span><span class="n">4442</span> <span class="p">`</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="p">=</span><span class="n">4443</span> <span class="p">`</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>    <span class="n">-e</span> <span class="n">SE_NODE_HOST</span><span class="p">=&lt;</span><span class="n">ip-from-machine</span><span class="p">-</span><span class="n">2</span><span class="p">&gt;</span> <span class="p">`</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>    <span class="n">selenium</span><span class="p">/</span><span class="n">node-chrome</span><span class="p">:</span><span class="n">4</span><span class="p">.</span><span class="n">12</span><span class="p">.</span><span class="n">1</span><span class="p">-</span><span class="n">20230912</span>
</span></code></pre></div>
<h5 id="node-edge-machinevm-3">Node Edge - Machine/VM 3<a class="headerlink" href="#node-edge-machinevm-3" title="Permanent link">&para;</a></h5>
<h6 id="macoslinux_2">macOS/Linux<a class="headerlink" href="#macoslinux_2" title="Permanent link">&para;</a></h6>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">5555</span>:5555<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>&lt;ip-from-machine-1&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_NODE_HOST</span><span class="o">=</span>&lt;ip-from-machine-3&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">    </span>selenium/node-edge:4.12.1-20230912
</span></code></pre></div>
<h6 id="windows-powershell_2">Windows PowerShell<a class="headerlink" href="#windows-powershell_2" title="Permanent link">&para;</a></h6>
<div class="language-powershell highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">run</span> <span class="n">-d</span> <span class="n">-p</span> <span class="n">5555</span><span class="p">:</span><span class="n">5555</span> <span class="p">`</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    <span class="p">-</span><span class="n">-shm-size</span><span class="p">=</span><span class="s2">&quot;2g&quot;</span> <span class="p">`</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_HOST</span><span class="p">=&lt;</span><span class="n">ip-from-machine</span><span class="p">-</span><span class="n">1</span><span class="p">&gt;</span> <span class="p">`</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_PUBLISH_PORT</span><span class="p">=</span><span class="n">4442</span> <span class="p">`</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="p">=</span><span class="n">4443</span> <span class="p">`</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>    <span class="n">-e</span> <span class="n">SE_NODE_HOST</span><span class="p">=&lt;</span><span class="n">ip-from-machine</span><span class="p">-</span><span class="n">3</span><span class="p">&gt;</span> <span class="p">`</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>    <span class="n">selenium</span><span class="p">/</span><span class="n">node-edge</span><span class="p">:</span><span class="n">4</span><span class="p">.</span><span class="n">12</span><span class="p">.</span><span class="n">1</span><span class="p">-</span><span class="n">20230912</span>
</span></code></pre></div>
<h5 id="node-firefox-machinevm-4">Node Firefox - Machine/VM 4<a class="headerlink" href="#node-firefox-machinevm-4" title="Permanent link">&para;</a></h5>
<h6 id="macoslinux_3">macOS/Linux<a class="headerlink" href="#macoslinux_3" title="Permanent link">&para;</a></h6>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">5555</span>:5555<span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>&lt;ip-from-machine-1&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_NODE_HOST</span><span class="o">=</span>&lt;ip-from-machine-4&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">    </span>selenium/node-firefox:4.12.1-20230912
</span></code></pre></div>
<h6 id="windows-powershell_3">Windows PowerShell<a class="headerlink" href="#windows-powershell_3" title="Permanent link">&para;</a></h6>
<div class="language-powershell highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">run</span> <span class="n">-d</span> <span class="n">-p</span> <span class="n">5555</span><span class="p">:</span><span class="n">5555</span> <span class="p">`</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>    <span class="p">-</span><span class="n">-shm-size</span><span class="p">=</span><span class="s2">&quot;2g&quot;</span> <span class="p">`</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_HOST</span><span class="p">=&lt;</span><span class="n">ip-from-machine</span><span class="p">-</span><span class="n">1</span><span class="p">&gt;</span> <span class="p">`</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_PUBLISH_PORT</span><span class="p">=</span><span class="n">4442</span> <span class="p">`</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="p">=</span><span class="n">4443</span> <span class="p">`</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>    <span class="n">-e</span> <span class="n">SE_NODE_HOST</span><span class="p">=&lt;</span><span class="n">ip-from-machine</span><span class="p">-</span><span class="n">4</span><span class="p">&gt;</span> <span class="p">`</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>    <span class="n">selenium</span><span class="p">/</span><span class="n">node-firefox</span><span class="p">:</span><span class="n">4</span><span class="p">.</span><span class="n">12</span><span class="p">.</span><span class="n">1</span><span class="p">-</span><span class="n">20230912</span>
</span></code></pre></div>
<h5 id="node-chrome-machinevm-4">Node Chrome - Machine/VM 4<a class="headerlink" href="#node-chrome-machinevm-4" title="Permanent link">&para;</a></h5>
<h6 id="macoslinux_4">macOS/Linux<a class="headerlink" href="#macoslinux_4" title="Permanent link">&para;</a></h6>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">5556</span>:5556<span class="w"> </span><span class="se">\</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>&lt;ip-from-machine-1&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_NODE_HOST</span><span class="o">=</span>&lt;ip-from-machine-4&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_NODE_PORT</span><span class="o">=</span><span class="m">5556</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">    </span>selenium/node-chrome:4.12.1-20230912
</span></code></pre></div>
<h6 id="windows-powershell_4">Windows PowerShell<a class="headerlink" href="#windows-powershell_4" title="Permanent link">&para;</a></h6>
<div class="language-powershell highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">run</span> <span class="n">-d</span> <span class="n">-p</span> <span class="n">5556</span><span class="p">:</span><span class="n">5556</span> <span class="p">`</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>    <span class="p">-</span><span class="n">-shm-size</span><span class="p">=</span><span class="s2">&quot;2g&quot;</span> <span class="p">`</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_HOST</span><span class="p">=&lt;</span><span class="n">ip-from-machine</span><span class="p">-</span><span class="n">1</span><span class="p">&gt;</span> <span class="p">`</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_PUBLISH_PORT</span><span class="p">=</span><span class="n">4442</span> <span class="p">`</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="p">=</span><span class="n">4443</span> <span class="p">`</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>    <span class="n">-e</span> <span class="n">SE_NODE_HOST</span><span class="p">=&lt;</span><span class="n">ip-from-machine</span><span class="p">-</span><span class="n">4</span><span class="p">&gt;</span> <span class="p">`</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>    <span class="n">-e</span> <span class="n">SE_NODE_PORT</span><span class="p">=</span><span class="n">5556</span> <span class="p">`</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>    <span class="n">selenium</span><span class="p">/</span><span class="n">node-chrome</span><span class="p">:</span><span class="n">4</span><span class="p">.</span><span class="n">12</span><span class="p">.</span><span class="n">1</span><span class="p">-</span><span class="n">20230912</span>
</span></code></pre></div>
<h4 id="docker-compose">Docker Compose<a class="headerlink" href="#docker-compose" title="Permanent link">&para;</a></h4>
<p>Visit offical github repository mentioned above in order to obtain yaml files!</p>
<p><a href="https://docs.docker.com/compose/">Docker Compose</a> is the simplest way to start a Grid. Use the
linked resources below, save them locally and check the execution instructions on top of each file.</p>
<h5 id="version-2">Version 2<a class="headerlink" href="#version-2" title="Permanent link">&para;</a></h5>
<p><a href="docker-compose-v2.yml"><code>docker-compose-v2.yml</code></a></p>
<h5 id="version-3">Version 3<a class="headerlink" href="#version-3" title="Permanent link">&para;</a></h5>
<p><a href="docker-compose-v3.yml"><code>docker-compose-v3.yml</code></a></p>
<p>To stop the Grid and cleanup the created containers, run <code>docker-compose down</code>.</p>
<h5 id="version-3-with-swarm-support">Version 3 with Swarm support<a class="headerlink" href="#version-3-with-swarm-support" title="Permanent link">&para;</a></h5>
<p><a href="docker-compose-v3-swarm.yml"><code>docker-compose-v3-swarm.yml</code></a></p>
<hr />
<h3 id="fully-distributed-mode-router-queue-distributor-eventbus-sessionmap-and-nodes">Fully distributed mode - Router, Queue, Distributor, EventBus, SessionMap and Nodes<a class="headerlink" href="#fully-distributed-mode-router-queue-distributor-eventbus-sessionmap-and-nodes" title="Permanent link">&para;</a></h3>
<p>It is possible to start a Selenium Grid with all its components apart. For simplicity, only an
example with docker-compose will be provided. Save the file locally, and check the execution 
instructions on top of it.</p>
<p><a href="docker-compose-v3-full-grid.yml"><code>docker-compose-v3-full-grid.yml</code></a></p>
<hr />
<h2 id="video-recording">Video recording<a class="headerlink" href="#video-recording" title="Permanent link">&para;</a></h2>
<p>Tests execution can be recorded by using the <code>selenium/video:ffmpeg-4.3.1-20230912</code>
Docker image. One container is needed per each container where a browser is running. This means if you are
running 5 Nodes/Standalone containers, you will need 5 video containers, the mapping is 1-1.</p>
<p>Currently, the only way to do this mapping is manually (either starting the containers manually or through
<code>docker-compose</code>). We are iterating on this process and probably this setup will be more simple in the future.</p>
<p>The video Docker image we provide is based on the ffmpeg Ubuntu image provided by the 
<a href="https://github.com/jrottenberg/ffmpeg">jrottenberg/ffmpeg</a> project, thank you for providing this image and
simplifying our work <img alt="🎉" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f389.svg" title=":tada:" /></p>
<p><strong>Notes</strong>:
- If you have questions or feedback, please use the community contact points shown <a href="https://www.selenium.dev/support/">here</a>. 
- Please report any bugs through GitHub <a href="https://github.com/SeleniumHQ/docker-selenium/issues/new/choose">issues</a>, and provide
all the information requested on the template.
- Video recording for headless browsers is not supported. 
- Video recording tends to use considerable amounts of CPU. Normally you should estimate 1CPU per video container, 
and 1 CPU per browser container.
- Videos are stored in the <code>/videos</code> directory inside the video container. Map a local directory to get the videos.
- If you are running more than one video container, be sure to overwrite the video file name through the <code>FILE_NAME</code>
environment variable to avoid unexpected results.</p>
<p>This example shows how to start the containers manually:</p>
<p><div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>grid
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span>-p<span class="w"> </span><span class="m">6900</span>:5900<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>--name<span class="w"> </span>selenium<span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/standalone-chrome:4.12.1-20230912
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>--name<span class="w"> </span>video<span class="w"> </span>-v<span class="w"> </span>/tmp/videos:/videos<span class="w"> </span>selenium/video:ffmpeg-4.3.1-20230912
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="c1"># Run your tests</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>$<span class="w"> </span>docker<span class="w"> </span>stop<span class="w"> </span>video<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>docker<span class="w"> </span>rm<span class="w"> </span>video
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>$<span class="w"> </span>docker<span class="w"> </span>stop<span class="w"> </span>selenium<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>docker<span class="w"> </span>rm<span class="w"> </span>selenium
</span></code></pre></div>
After the containers are stopped and removed, you should see a video file on your machine's <code>/tmp/videos</code> directory.</p>
<p>Here is an example using a Hub and a few Nodes:</p>
<p><a href="docker-compose-v3-video.yml"><code>docker-compose-v3-video.yml</code></a></p>
<hr />
<h2 id="dynamic-grid">Dynamic Grid<a class="headerlink" href="#dynamic-grid" title="Permanent link">&para;</a></h2>
<p>Grid 4 has the ability to start Docker containers on demand, this means that it starts
a Docker container in the background for each new session request, the test gets executed
there, and when the test completes, the container gets thrown away.</p>
<p>This execution mode can be used either in the Standalone or Node roles. The "dynamic"
execution mode needs to be told what Docker images to use when the containers get started.
Additionally, the Grid needs to know the URI of the Docker daemon. This configuration can
be placed in a local <code>toml</code> file.</p>
<h3 id="configuration-example">Configuration example<a class="headerlink" href="#configuration-example" title="Permanent link">&para;</a></h3>
<p>You can save this file locally and name it, for example, <code>config.toml</code>.
<div class="language-toml highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="k">[docker]</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="c1"># Configs have a mapping between the Docker image to use and the capabilities that need to be matched to</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="c1"># start a container with the given image.</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="n">configs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">    </span><span class="s2">&quot;selenium/standalone-firefox:4.12.1-20230912&quot;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;browserName&quot;: &quot;firefox&quot;}&#39;</span><span class="p">,</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">    </span><span class="s2">&quot;selenium/standalone-chrome:4.12.1-20230912&quot;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;browserName&quot;: &quot;chrome&quot;}&#39;</span><span class="p">,</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">    </span><span class="s2">&quot;selenium/standalone-edge:4.12.1-20230912&quot;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;browserName&quot;: &quot;MicrosoftEdge&quot;}&#39;</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="p">]</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="c1"># URL for connecting to the docker daemon</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="c1"># Most simple approach, leave it as http://127.0.0.1:2375, and mount /var/run/docker.sock.</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="c1"># 127.0.0.1 is used because internally the container uses socat when /var/run/docker.sock is mounted </span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="c1"># If var/run/docker.sock is not mounted: </span>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="c1"># Windows: make sure Docker Desktop exposes the daemon via tcp, and use http://host.docker.internal:2375.</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="c1"># macOS: install socat and run the following command, socat -4 TCP-LISTEN:2375,fork UNIX-CONNECT:/var/run/docker.sock,</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="c1"># then use http://host.docker.internal:2375.</span>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="c1"># Linux: varies from machine to machine, please mount /var/run/docker.sock. If this does not work, please create an issue.</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://127.0.0.1:2375&quot;</span>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="c1"># Docker image used for video recording</span>
</span><span id="__span-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="n">video-image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;selenium/video:ffmpeg-4.3.1-20230912&quot;</span>
</span><span id="__span-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a>
</span><span id="__span-24-22"><a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="c1"># Uncomment the following section if you are running the node on a separate VM</span>
</span><span id="__span-24-23"><a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a><span class="c1"># Fill out the placeholders with appropriate values</span>
</span><span id="__span-24-24"><a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a><span class="c1">#[server]</span>
</span><span id="__span-24-25"><a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a><span class="c1">#host = &lt;ip-from-node-machine&gt;</span>
</span><span id="__span-24-26"><a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a><span class="c1">#port = &lt;port-from-node-machine&gt;</span>
</span></code></pre></div></p>
<h3 id="execution-with-hub-node-roles">Execution with Hub &amp; Node roles<a class="headerlink" href="#execution-with-hub-node-roles" title="Permanent link">&para;</a></h3>
<p>This can be expanded to a full Grid deployment, all components deployed individually. The overall
idea is to have the Hub in one virtual machine, and each of the Nodes in separate and more powerful
virtual machines. </p>
<h4 id="macoslinux_5">macOS/Linux<a class="headerlink" href="#macoslinux_5" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>grid
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4442</span>-4444:4442-4444<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>--name<span class="w"> </span>selenium-hub<span class="w"> </span>selenium/hub:4.12.1-20230912
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>selenium-hub<span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/config.toml:/opt/bin/config.toml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/assets:/opt/selenium/assets<span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">    </span>-v<span class="w"> </span>/var/run/docker.sock:/var/run/docker.sock<span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">    </span>selenium/node-docker:4.12.1-20230912
</span></code></pre></div>
<h4 id="windows-powershell_5">Windows PowerShell<a class="headerlink" href="#windows-powershell_5" title="Permanent link">&para;</a></h4>
<div class="language-powershell highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">network</span> <span class="n">create</span> <span class="n">grid</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">run</span> <span class="n">-d</span> <span class="n">-p</span> <span class="n">4442</span><span class="p">-</span><span class="n">4444</span><span class="p">:</span><span class="n">4442</span><span class="p">-</span><span class="n">4444</span> <span class="p">-</span><span class="n">-net</span> <span class="n">grid</span> <span class="p">-</span><span class="n">-name</span> <span class="n">selenium-hub</span> <span class="n">selenium</span><span class="p">/</span><span class="n">hub</span><span class="p">:</span><span class="n">4</span><span class="p">.</span><span class="n">12</span><span class="p">.</span><span class="n">1</span><span class="p">-</span><span class="n">20230912</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="p">$</span> <span class="n">docker</span> <span class="n">run</span> <span class="n">-d</span> <span class="p">-</span><span class="n">-net</span> <span class="n">grid</span> <span class="n">-e</span> <span class="n">SE_EVENT_BUS_HOST</span><span class="p">=</span><span class="n">selenium-hub</span> <span class="p">`</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_PUBLISH_PORT</span><span class="p">=</span><span class="n">4442</span> <span class="p">`</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>    <span class="n">-e</span> <span class="n">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="p">=</span><span class="n">4443</span> <span class="p">`</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>    <span class="n">-v</span> <span class="p">${</span><span class="n">PWD</span><span class="p">}/</span><span class="n">config</span><span class="p">.</span><span class="n">toml</span><span class="p">:/</span><span class="n">opt</span><span class="p">/</span><span class="n">bin</span><span class="p">/</span><span class="n">config</span><span class="p">.</span><span class="n">toml</span> <span class="p">`</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>    <span class="n">-v</span> <span class="p">${</span><span class="n">PWD</span><span class="p">}/</span><span class="n">assets</span><span class="p">:/</span><span class="n">opt</span><span class="p">/</span><span class="n">selenium</span><span class="p">/</span><span class="n">assets</span> <span class="p">`</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>    <span class="n">-v</span> <span class="p">/</span><span class="n">var</span><span class="p">/</span><span class="n">run</span><span class="p">/</span><span class="n">docker</span><span class="p">.</span><span class="n">sock</span><span class="p">:/</span><span class="n">var</span><span class="p">/</span><span class="n">run</span><span class="p">/</span><span class="n">docker</span><span class="p">.</span><span class="n">sock</span> <span class="p">`</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>    <span class="n">selenium</span><span class="p">/</span><span class="n">node-docker</span><span class="p">:</span><span class="n">4</span><span class="p">.</span><span class="n">12</span><span class="p">.</span><span class="n">1</span><span class="p">-</span><span class="n">20230912</span>
</span></code></pre></div>
<p>To have the assets saved on your host, please mount your host path to <code>/opt/selenium/assets</code>.</p>
<p>When you are done using the Grid, and the containers have exited, the network can be removed with the following command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1"># Removes the grid network</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>rm<span class="w"> </span>grid
</span></code></pre></div>
<h3 id="execution-with-standalone-roles">Execution with Standalone roles<a class="headerlink" href="#execution-with-standalone-roles" title="Permanent link">&para;</a></h3>
<h4 id="macoslinux_6">macOS/Linux<a class="headerlink" href="#macoslinux_6" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>--name<span class="w"> </span>selenium-docker<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span><span class="se">\</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/config.toml:/opt/bin/config.toml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/assets:/opt/selenium/assets<span class="w"> </span><span class="se">\</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">    </span>-v<span class="w"> </span>/var/run/docker.sock:/var/run/docker.sock<span class="w"> </span><span class="se">\</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">    </span>selenium/standalone-docker:4.12.1-20230912
</span></code></pre></div>
<h4 id="windows-powershell_6">Windows PowerShell<a class="headerlink" href="#windows-powershell_6" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>--name<span class="w"> </span>selenium-docker<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/config.toml:/opt/bin/config.toml<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/assets:/opt/selenium/assets<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">    </span>-v<span class="w"> </span>/var/run/docker.sock:/var/run/docker.sock<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w">    </span>selenium/standalone-docker:4.12.1-20230912
</span></code></pre></div>
<h3 id="using-dynamic-grid-in-different-machinesvms">Using Dynamic Grid in different machines/VMs<a class="headerlink" href="#using-dynamic-grid-in-different-machinesvms" title="Permanent link">&para;</a></h3>
<h4 id="hub-machinevm-1_1">Hub - Machine/VM 1<a class="headerlink" href="#hub-machinevm-1_1" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4442</span>-4444:4442-4444<span class="w"> </span>--name<span class="w"> </span>selenium-hub<span class="w"> </span>selenium/hub:4.12.1-20230912
</span></code></pre></div>
<h4 id="node-chrome-machinevm-2_1">Node Chrome - Machine/VM 2<a class="headerlink" href="#node-chrome-machinevm-2_1" title="Permanent link">&para;</a></h4>
<h4 id="macoslinux_7">macOS/Linux<a class="headerlink" href="#macoslinux_7" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">5555</span>:5555<span class="w"> </span><span class="se">\</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>&lt;ip-from-machine-1&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/config.toml:/opt/bin/config.toml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/assets:/opt/selenium/assets<span class="w"> </span><span class="se">\</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">    </span>-v<span class="w"> </span>/var/run/docker.sock:/var/run/docker.sock<span class="w"> </span><span class="se">\</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">    </span>selenium/node-docker:4.12.1-20230912
</span></code></pre></div>
<h4 id="windows-powershell_7">Windows PowerShell<a class="headerlink" href="#windows-powershell_7" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">5555</span>:5555<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>&lt;ip-from-machine-1&gt;<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="sb">`</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="sb">`</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/config.toml:/opt/bin/config.toml<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/assets:/opt/selenium/assets<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="w">    </span>-v<span class="w"> </span>/var/run/docker.sock:/var/run/docker.sock<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">    </span>selenium/node-docker:4.12.1-20230912
</span></code></pre></div>
<p>Complete the <code>[server]</code> section in the <code>config.toml</code> file.
<div class="language-toml highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="k">[docker]</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="c1"># Configs have a mapping between the Docker image to use and the capabilities that need to be matched to</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="c1"># start a container with the given image.</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="n">configs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">    </span><span class="s2">&quot;selenium/standalone-firefox:4.12.1-20230912&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">browserName</span><span class="se">\&quot;</span><span class="s2">: </span><span class="se">\&quot;</span><span class="s2">firefox</span><span class="se">\&quot;</span><span class="s2">}&quot;</span><span class="p">,</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="w">    </span><span class="s2">&quot;selenium/standalone-chrome:4.12.1-20230912&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">browserName</span><span class="se">\&quot;</span><span class="s2">: </span><span class="se">\&quot;</span><span class="s2">chrome</span><span class="se">\&quot;</span><span class="s2">}&quot;</span><span class="p">,</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="w">    </span><span class="s2">&quot;selenium/standalone-edge:4.12.1-20230912&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">browserName</span><span class="se">\&quot;</span><span class="s2">: </span><span class="se">\&quot;</span><span class="s2">MicrosoftEdge</span><span class="se">\&quot;</span><span class="s2">}&quot;</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="c1"># URL for connecting to the docker daemon</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="c1"># Most simple approach, leave it as http://127.0.0.1:2375, and mount /var/run/docker.sock.</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="c1"># 127.0.0.1 is used because interally the container uses socat when /var/run/docker.sock is mounted </span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="c1"># If var/run/docker.sock is not mounted: </span>
</span><span id="__span-33-14"><a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="c1"># Windows: make sure Docker Desktop exposes the daemon via tcp, and use http://host.docker.internal:2375.</span>
</span><span id="__span-33-15"><a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="c1"># macOS: install socat and run the following command, socat -4 TCP-LISTEN:2375,fork UNIX-CONNECT:/var/run/docker.sock,</span>
</span><span id="__span-33-16"><a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="c1"># then use http://host.docker.internal:2375.</span>
</span><span id="__span-33-17"><a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="c1"># Linux: varies from machine to machine, please mount /var/run/docker.sock. If this does not work, please create an issue.</span>
</span><span id="__span-33-18"><a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://127.0.0.1:2375&quot;</span>
</span><span id="__span-33-19"><a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="c1"># Docker image used for video recording</span>
</span><span id="__span-33-20"><a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a><span class="n">video-image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;selenium/video:ffmpeg-4.3.1-20230912&quot;</span>
</span><span id="__span-33-21"><a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a>
</span><span id="__span-33-22"><a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a><span class="c1"># Uncomment the following section if you are running the node on a separate VM</span>
</span><span id="__span-33-23"><a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="c1"># Fill out the placeholders with appropriate values</span>
</span><span id="__span-33-24"><a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a><span class="k">[server]</span>
</span><span id="__span-33-25"><a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a><span class="n">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">&lt;ip-from-node-machine&gt;</span>
</span><span id="__span-33-26"><a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">&lt;port-from-node-machine&gt;</span>
</span></code></pre></div></p>
<p>To have the assets saved on your host, please mount your host path to <code>/opt/selenium/assets</code>.</p>
<h3 id="execution-with-docker-compose">Execution with Docker Compose<a class="headerlink" href="#execution-with-docker-compose" title="Permanent link">&para;</a></h3>
<p>Here is an example using a Hub and a Node:</p>
<p><a href="docker-compose-v3-dynamic-grid.yml"><code>docker-compose-v3-dynamic-grid.yml</code></a></p>
<h3 id="configuring-the-child-containers">Configuring the child containers<a class="headerlink" href="#configuring-the-child-containers" title="Permanent link">&para;</a></h3>
<p>Containers can be further configured through environment variables, such as <code>SE_NODE_SESSION_TIMEOUT</code>
and <code>SE_OPTS</code>. When a child container is created, all environment variables prefixed with <code>SE_</code> will
be forwared and set in the container. You can set the desired environment variables in the 
<code>standalone-docker</code> or <code>node-docker</code> containers. The following example sets the session timeout to
700 seconds for all sessions:</p>
<h4 id="macoslinux_8">macOS/Linux<a class="headerlink" href="#macoslinux_8" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>--name<span class="w"> </span>selenium-docker<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_NODE_SESSION_TIMEOUT</span><span class="o">=</span><span class="m">700</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/config.toml:/opt/bin/config.toml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/assets:/opt/selenium/assets<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">    </span>-v<span class="w"> </span>/var/run/docker.sock:/var/run/docker.sock<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">    </span>selenium/standalone-docker:4.12.1-20230912
</span></code></pre></div>
<h4 id="windows-powershell_8">Windows PowerShell<a class="headerlink" href="#windows-powershell_8" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>--name<span class="w"> </span>selenium-docker<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_NODE_SESSION_TIMEOUT</span><span class="o">=</span><span class="m">700</span><span class="w"> </span><span class="sb">`</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/config.toml:/opt/bin/config.toml<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">    </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/assets:/opt/selenium/assets<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">    </span>-v<span class="w"> </span>/var/run/docker.sock:/var/run/docker.sock<span class="w"> </span><span class="sb">`</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">    </span>selenium/standalone-docker:4.12.1-20230912
</span></code></pre></div>
<h3 id="video-recording-screen-resolution-and-time-zones-in-a-dynamic-grid">Video recording, screen resolution, and time zones in a Dynamic Grid<a class="headerlink" href="#video-recording-screen-resolution-and-time-zones-in-a-dynamic-grid" title="Permanent link">&para;</a></h3>
<p>To record your WebDriver session, you need to add a <code>se:recordVideo</code> 
field set to <code>true</code>. You can also set a time zone and a screen resolution,
for example:</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="p">{</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">  </span><span class="nt">&quot;browserName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;firefox&quot;</span><span class="p">,</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">  </span><span class="nt">&quot;platformName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;linux&quot;</span><span class="p">,</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">  </span><span class="nt">&quot;se:recordVideo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="p">,</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">  </span><span class="nt">&quot;se:timeZone&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US/Pacific&quot;</span><span class="p">,</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">  </span><span class="nt">&quot;se:screenResolution&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1920x1080&quot;</span><span class="w">  </span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="p">}</span>
</span></code></pre></div>
<p>After running a test, check the path you mounted to the Docker container, 
(<code>${PWD}/assets</code>), and you should see videos and session information. </p>
<hr />
<h2 id="deploying-to-kubernetes">Deploying to Kubernetes<a class="headerlink" href="#deploying-to-kubernetes" title="Permanent link">&para;</a></h2>
<p>We offer a Helm chart to deploy these Docker images to Kubernetes.
Read more details at the Helm <a href="https://github.com/SeleniumHQ/docker-selenium/blob/trunk/charts/selenium-grid/README.md">readme</a>.</p>
<hr />
<h2 id="configuring-the-containers">Configuring the containers<a class="headerlink" href="#configuring-the-containers" title="Permanent link">&para;</a></h2>
<h3 id="se_opts-selenium-configuration-options">SE_OPTS Selenium Configuration Options<a class="headerlink" href="#se_opts-selenium-configuration-options" title="Permanent link">&para;</a></h3>
<p>You can pass <code>SE_OPTS</code> variable with additional command line parameters for starting a hub or a node.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_OPTS</span><span class="o">=</span><span class="s2">&quot;--log-level FINE&quot;</span><span class="w"> </span>--name<span class="w"> </span>selenium-hub<span class="w"> </span>selenium/hub:4.12.1-20230912
</span></code></pre></div>
<h3 id="se_java_opts-java-environment-options">SE_JAVA_OPTS Java Environment Options<a class="headerlink" href="#se_java_opts-java-environment-options" title="Permanent link">&para;</a></h3>
<p>You can pass <code>SE_JAVA_OPTS</code> environment variable to the Java process.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_JAVA_OPTS</span><span class="o">=</span>-Xmx512m<span class="w"> </span>--name<span class="w"> </span>selenium-hub<span class="w"> </span>selenium/hub:4.12.1-20230912
</span></code></pre></div>
<h3 id="node-configuration-options">Node configuration options<a class="headerlink" href="#node-configuration-options" title="Permanent link">&para;</a></h3>
<p>The Nodes register themselves through the Event Bus. When the Grid is started in its typical Hub/Node
setup, the Hub will be the one acting as the Event Bus, and when the Grid is started with all its five
elements apart, the Event Bus will be running on its own.</p>
<p>In both cases, it is necessary to tell the Node where the Event Bus is, so it can register itself. That is
the purpose of the <code>SE_EVENT_BUS_HOST</code>, <code>SE_EVENT_BUS_PUBLISH_PORT</code> and <code>SE_EVENT_BUS_SUBSCRIBE_PORT</code> environment
variables.</p>
<p>In some cases, for example, if you want to tag a node, it might be necessary to supply a custom stereotype to the node config. The environment variable <code>SE_NODE_STEREOTYPE</code>
sets the stereotype entry in the node's <code>config.toml</code>. An example config.toml file can be found here: <a href="https://www.selenium.dev/documentation/grid/configuration/toml_options/#setting-custom-capabilities-for-matching-specific-nodes">Setting custom capabilities for matching specific Nodes</a>.</p>
<p>Here is an example with the default values of these environment variables:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="w">  </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>&lt;event_bus_ip<span class="p">|</span>event_bus_name&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">  </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">  </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_NODE_STEREOTYPE</span><span class="o">=</span><span class="s2">&quot;{\&quot;browserName\&quot;:\&quot;</span><span class="si">${</span><span class="nv">SE_NODE_BROWSER_NAME</span><span class="si">}</span><span class="s2">\&quot;,\&quot;browserVersion\&quot;:\&quot;</span><span class="si">${</span><span class="nv">SE_NODE_BROWSER_VERSION</span><span class="si">}</span><span class="s2">\&quot;,\&quot;platformName\&quot;: \&quot;Linux\&quot;}&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">  </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/node-chrome:4.12.1-20230912
</span></code></pre></div></p>
<h3 id="setting-sub-path">Setting Sub Path<a class="headerlink" href="#setting-sub-path" title="Permanent link">&para;</a></h3>
<p>By default, Selenium is reachable at <code>http://127.0.0.1:4444/</code>. Selenium can be configured to use a custom subpath by specifying the <code>SE_SUB_PATH</code>
environmental variable. In the example below Selenium is reachable at <code>http://127.0.0.1:4444/selenium-grid/</code></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_SUB_PATH</span><span class="o">=</span>/selenium-grid/<span class="w"> </span>--name<span class="w"> </span>selenium-hub<span class="w"> </span>selenium/hub:4.9.0-20230421
</span></code></pre></div>
<h3 id="setting-screen-resolution">Setting Screen Resolution<a class="headerlink" href="#setting-screen-resolution" title="Permanent link">&para;</a></h3>
<p>By default, nodes start with a screen resolution of 1360 x 1020 with a color depth of 24 bits and a dpi of 96. 
These settings can be adjusted by specifying <code>SE_SCREEN_WIDTH</code>, <code>SE_SCREEN_HEIGHT</code>, <code>SE_SCREEN_DEPTH</code>, and/or <code>SE_SCREEN_DPI</code> 
environmental variables when starting the container.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_SCREEN_WIDTH</span><span class="o">=</span><span class="m">1366</span><span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_SCREEN_HEIGHT</span><span class="o">=</span><span class="m">768</span><span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_SCREEN_DEPTH</span><span class="o">=</span><span class="m">24</span><span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_SCREEN_DPI</span><span class="o">=</span><span class="m">74</span><span class="w"> </span>selenium/standalone-firefox:4.12.1-20230912
</span></code></pre></div>
<h3 id="grid-url-and-session-timeout">Grid Url and Session Timeout<a class="headerlink" href="#grid-url-and-session-timeout" title="Permanent link">&para;</a></h3>
<p>In some use cases, you might need to set the Grid URL to the Node, for example, if you'd like to access the BiDi/CDP endpoint. 
This is also needed when you want to use the new <code>RemoteWebDriver.builder()</code> or <code>Augmenter()</code> present in Selenium 4 
(since they setup the BiDi/CDP connection implicitly). You can do that through the <code>SE_NODE_GRID_URL</code> environment 
variable. Setting this env var is needed if you want to see the live view while sessions are executing.</p>
<p>Grid has a default session timeout of 300 seconds, where the session can be in a stale state until it is killed. You can use
<code>SE_NODE_SESSION_TIMEOUT</code> to overwrite that value in seconds.</p>
<h3 id="session-request-timeout">Session request timeout<a class="headerlink" href="#session-request-timeout" title="Permanent link">&para;</a></h3>
<p>A new session request is placed in the Session Queue before it is processed, and the request sits in the queue until a matching
slot is found across the registered Nodes. However, the new session request might timeout if no slot was found. By default, a 
request will stay in the queue for up to 300 seconds before it a timeout is reached. In addition, an attempt to process the request
is done every 5 seconds (by default).</p>
<p>It is possible to override those values through environment variables in the Hub and the SessionQueue (<code>SE_SESSION_REQUEST_TIMEOUT</code>
and <code>SE_SESSION_RETRY_INTERVAL</code>). For example, a timeout of 500 seconds would be <code>SE_SESSION_REQUEST_TIMEOUT=500</code> and a retry 
interval of 2 seconds would be <code>SE_SESSION_RETRY_INTERVAL=2</code>.</p>
<h3 id="increasing-session-concurrency-per-container">Increasing session concurrency per container<a class="headerlink" href="#increasing-session-concurrency-per-container" title="Permanent link">&para;</a></h3>
<p>By default, only one session is configured to run per container through the <code>SE_NODE_MAX_SESSIONS</code> environment variable. It is
possible to increase that number up to the maximum available processors, this is because more stability is achieved when one
container/browser has 1 CPU to run. </p>
<p>However, if you have measured performance and based on that, you think more sessions can be executed in each container, you can
override the maximum limit by setting both <code>SE_NODE_MAX_SESSIONS</code> to a desired number and <code>SE_NODE_OVERRIDE_MAX_SESSIONS</code> to 
<code>true</code>. Nevertheless, running more browser sessions than the available processors is not recommended since you will be overloading
the resources.</p>
<p>Overriding this setting has an undesired side effect when video recording is enabled since more than one browser session might be
captured in the same video.</p>
<h3 id="running-in-headless-mode">Running in Headless mode<a class="headerlink" href="#running-in-headless-mode" title="Permanent link">&para;</a></h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Headless_mode">Firefox</a>, 
<a href="https://developers.google.com/web/updates/2017/04/headless-chrome">Chrome</a>, 
When using headless mode, there's no need for the <a href="https://en.wikipedia.org/wiki/Xvfb">Xvfb</a> server to be started.</p>
<p>To avoid starting the server you can set the <code>START_XVFB</code> environment variable to <code>false</code> 
(or any other value than <code>true</code>), for example:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>selenium-hub<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="w">  </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span>-e<span class="w"> </span><span class="nv">START_XVFB</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/node-chrome:4.12.1-20230912
</span></code></pre></div>
<p>For more information, see this GitHub <a href="https://github.com/SeleniumHQ/docker-selenium/issues/567">issue</a>.</p>
<h3 id="stopping-the-nodestandalone-after-n-sessions-have-been-executed">Stopping the Node/Standalone after N sessions have been executed<a class="headerlink" href="#stopping-the-nodestandalone-after-n-sessions-have-been-executed" title="Permanent link">&para;</a></h3>
<p>In some environments, like Docker Swarm or Kubernetes, it is useful to shut down the Node or Standalone
container after N tests have been executed. For example, this can be used in Kubernetes to terminate the
pod and then scale a new one after N sessions. Set the environment variable <code>SE_DRAIN_AFTER_SESSION_COUNT</code> to
a value higher than zero to enable this behaviour. </p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_DRAIN_AFTER_SESSION_COUNT</span><span class="o">=</span><span class="m">5</span><span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/standalone-firefox:4.12.1-20230912
</span></code></pre></div>
<p>With the previous command, the Standalone container will shut down after 5 sessions have been executed.</p>
<hr />
<h2 id="building-the-images">Building the images<a class="headerlink" href="#building-the-images" title="Permanent link">&para;</a></h2>
<p>Clone the repo and from the project directory root you can build everything by running:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>$<span class="w"> </span><span class="nv">VERSION</span><span class="o">=</span><span class="nb">local</span><span class="w"> </span>make<span class="w"> </span>build
</span></code></pre></div>
<p>If you need to configure environment variables in order to build the image (http proxy for instance), 
simply set an environment variable <code>BUILD_ARGS</code> that contains the additional variables to pass to the 
docker context (this will only work with docker &gt;= 1.9)</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>$<span class="w"> </span><span class="nv">BUILD_ARGS</span><span class="o">=</span><span class="s2">&quot;--build-arg http_proxy=http://acme:3128 --build-arg https_proxy=http://acme:3128&quot;</span><span class="w"> </span>make<span class="w"> </span>build
</span></code></pre></div>
<p><em>Note: Omitting</em> <code>VERSION=local</code> <em>will build the images with the released version but replacing the date for the 
current one.</em></p>
<hr />
<h2 id="waiting-for-the-grid-to-be-ready">Waiting for the Grid to be ready<a class="headerlink" href="#waiting-for-the-grid-to-be-ready" title="Permanent link">&para;</a></h2>
<p>It is a good practice to check first if the Grid is up and ready to receive requests, this can be done by checking the <code>/wd/hub/status</code> endpoint.</p>
<p>A Grid that is ready, composed of a hub and two nodes, could look like this:</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="p">{</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="w">  </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="w">    </span><span class="nt">&quot;ready&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Selenium Grid ready.&quot;</span><span class="p">,</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">    </span><span class="nt">&quot;nodes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6c0a2c59-7e99-469d-bbfc-313dc638797c&quot;</span><span class="p">,</span>
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="w">        </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http:\u002f\u002f172.19.0.3:5555&quot;</span><span class="p">,</span>
</span><span id="__span-46-9"><a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="w">        </span><span class="nt">&quot;maxSessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
</span><span id="__span-46-10"><a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="w">        </span><span class="nt">&quot;stereotypes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-46-11"><a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-46-12"><a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="w">            </span><span class="nt">&quot;capabilities&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-46-13"><a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a><span class="w">              </span><span class="nt">&quot;browserName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;firefox&quot;</span>
</span><span id="__span-46-14"><a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-46-15"><a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a><span class="w">            </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
</span><span id="__span-46-16"><a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-46-17"><a id="__codelineno-46-17" name="__codelineno-46-17" href="#__codelineno-46-17"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-46-18"><a id="__codelineno-46-18" name="__codelineno-46-18" href="#__codelineno-46-18"></a><span class="w">        </span><span class="nt">&quot;sessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-46-19"><a id="__codelineno-46-19" name="__codelineno-46-19" href="#__codelineno-46-19"></a><span class="w">        </span><span class="p">]</span>
</span><span id="__span-46-20"><a id="__codelineno-46-20" name="__codelineno-46-20" href="#__codelineno-46-20"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-46-21"><a id="__codelineno-46-21" name="__codelineno-46-21" href="#__codelineno-46-21"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-46-22"><a id="__codelineno-46-22" name="__codelineno-46-22" href="#__codelineno-46-22"></a><span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;26af3363-a0d8-4bd6-a854-2c7497ed64a4&quot;</span><span class="p">,</span>
</span><span id="__span-46-23"><a id="__codelineno-46-23" name="__codelineno-46-23" href="#__codelineno-46-23"></a><span class="w">        </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http:\u002f\u002f172.19.0.4:5555&quot;</span><span class="p">,</span>
</span><span id="__span-46-24"><a id="__codelineno-46-24" name="__codelineno-46-24" href="#__codelineno-46-24"></a><span class="w">        </span><span class="nt">&quot;maxSessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
</span><span id="__span-46-25"><a id="__codelineno-46-25" name="__codelineno-46-25" href="#__codelineno-46-25"></a><span class="w">        </span><span class="nt">&quot;stereotypes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-46-26"><a id="__codelineno-46-26" name="__codelineno-46-26" href="#__codelineno-46-26"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-46-27"><a id="__codelineno-46-27" name="__codelineno-46-27" href="#__codelineno-46-27"></a><span class="w">            </span><span class="nt">&quot;capabilities&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-46-28"><a id="__codelineno-46-28" name="__codelineno-46-28" href="#__codelineno-46-28"></a><span class="w">              </span><span class="nt">&quot;browserName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;chrome&quot;</span>
</span><span id="__span-46-29"><a id="__codelineno-46-29" name="__codelineno-46-29" href="#__codelineno-46-29"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-46-30"><a id="__codelineno-46-30" name="__codelineno-46-30" href="#__codelineno-46-30"></a><span class="w">            </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
</span><span id="__span-46-31"><a id="__codelineno-46-31" name="__codelineno-46-31" href="#__codelineno-46-31"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-46-32"><a id="__codelineno-46-32" name="__codelineno-46-32" href="#__codelineno-46-32"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-46-33"><a id="__codelineno-46-33" name="__codelineno-46-33" href="#__codelineno-46-33"></a><span class="w">        </span><span class="nt">&quot;sessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-46-34"><a id="__codelineno-46-34" name="__codelineno-46-34" href="#__codelineno-46-34"></a><span class="w">        </span><span class="p">]</span>
</span><span id="__span-46-35"><a id="__codelineno-46-35" name="__codelineno-46-35" href="#__codelineno-46-35"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-46-36"><a id="__codelineno-46-36" name="__codelineno-46-36" href="#__codelineno-46-36"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-46-37"><a id="__codelineno-46-37" name="__codelineno-46-37" href="#__codelineno-46-37"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-46-38"><a id="__codelineno-46-38" name="__codelineno-46-38" href="#__codelineno-46-38"></a><span class="p">}</span>
</span></code></pre></div>
<p>The <code>"ready": true</code> value indicates that the Grid is ready to receive requests. This status can be polled through a
script before running any test, or it can be added as a <a href="https://docs.docker.com/engine/reference/run/#healthcheck">HEALTHCHECK</a>
when the docker container is started.</p>
<h3 id="adding-a-healthcheck-to-the-grid">Adding a <a href="https://docs.docker.com/engine/reference/run/#healthcheck">HEALTHCHECK</a> to the Grid<a class="headerlink" href="#adding-a-healthcheck-to-the-grid" title="Permanent link">&para;</a></h3>
<p>The script <a href="Base/check-grid.sh">check-grid.sh</a>, which is included in the images, can be used to poll the Grid status.</p>
<p>This example checks the status of the Grid every 15 seconds, it has a timeout of 30 seconds when the check is done,
and it retries up to 5 times until the container is marked as unhealthy. Please use adjusted values to fit your needs,
(if needed) replace the <code>--host</code> and <code>--port</code> parameters for the ones used in your environment.</p>
<p><div class="language-bash highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>grid
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4442</span>-4444:4442-4444<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>--name<span class="w"> </span>selenium-hub<span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">  </span>--health-cmd<span class="o">=</span><span class="s1">&#39;/opt/bin/check-grid.sh --host 0.0.0.0 --port 4444&#39;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">  </span>--health-interval<span class="o">=</span>15s<span class="w"> </span>--health-timeout<span class="o">=</span>30s<span class="w"> </span>--health-retries<span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">  </span>selenium/hub:4.12.1-20230912
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>selenium-hub<span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-8"><a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-9"><a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-10"><a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="w">    </span>selenium/node-chrome:4.12.1-20230912
</span><span id="__span-47-11"><a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>selenium-hub<span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-12"><a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-13"><a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-14"><a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-15"><a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a><span class="w">    </span>selenium/node-edge:4.12.1-20230912
</span><span id="__span-47-16"><a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>selenium-hub<span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-17"><a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-18"><a id="__codelineno-47-18" name="__codelineno-47-18" href="#__codelineno-47-18"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-19"><a id="__codelineno-47-19" name="__codelineno-47-19" href="#__codelineno-47-19"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-47-20"><a id="__codelineno-47-20" name="__codelineno-47-20" href="#__codelineno-47-20"></a><span class="w">    </span>selenium/node-firefox:4.12.1-20230912
</span></code></pre></div>
<strong>Note:</strong> The <code>\</code> line delimiter won't work on Windows-based terminals, try either <code>^</code> or a backtick.</p>
<p>The container health status can be checked by doing <code>docker ps</code> and verifying the <code>(healthy)|(unhealthy)</code> status or by
inspecting it in the following way:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>$<span class="w"> </span>docker<span class="w"> </span>inspect<span class="w"> </span>--format<span class="o">=</span><span class="s1">&#39;{{json .State.Health.Status}}&#39;</span><span class="w"> </span>selenium-hub
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="s2">&quot;healthy&quot;</span>
</span></code></pre></div>
<h3 id="using-a-bash-script-to-wait-for-the-grid">Using a bash script to wait for the Grid<a class="headerlink" href="#using-a-bash-script-to-wait-for-the-grid" title="Permanent link">&para;</a></h3>
<p>A common problem known in docker is that a running container does not always mean that the application inside it is ready.
A simple way to tackle this is by using a "wait-for-it" script, more information can be seen <a href="https://docs.docker.com/compose/startup-order/">here</a>.</p>
<p>The following script is an example of how this can be done using bash, but the same principle applies if you want to do this with the programming language used to write the tests.
In the example below, the script will poll the status endpoint every second. If the grid does not become ready within 30 seconds, the script will exit with an error code.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="ch">#!/bin/bash</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="c1"># wait-for-grid.sh</span>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="nb">set</span><span class="w"> </span>-e
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="nv">url</span><span class="o">=</span><span class="s2">&quot;http://localhost:4444/wd/hub/status&quot;</span>
</span><span id="__span-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="nv">wait_interval_in_seconds</span><span class="o">=</span><span class="m">1</span>
</span><span id="__span-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="nv">max_wait_time_in_seconds</span><span class="o">=</span><span class="m">30</span>
</span><span id="__span-49-8"><a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="nv">end_time</span><span class="o">=</span><span class="k">$((</span><span class="nv">SECONDS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">max_wait_time_in_seconds</span><span class="k">))</span>
</span><span id="__span-49-9"><a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="nv">time_left</span><span class="o">=</span><span class="nv">$max_wait_time_in_seconds</span>
</span><span id="__span-49-10"><a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a>
</span><span id="__span-49-11"><a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a><span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$SECONDS</span><span class="w"> </span>-lt<span class="w"> </span><span class="nv">$end_time</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
</span><span id="__span-49-12"><a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a><span class="w">    </span><span class="nv">response</span><span class="o">=</span><span class="k">$(</span>curl<span class="w"> </span>-sL<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$url</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.value.ready&#39;</span><span class="k">)</span>
</span><span id="__span-49-13"><a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$response</span><span class="s2">&quot;</span><span class="w">  </span><span class="o">]</span><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$response</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-49-14"><a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Selenium Grid is up - executing tests&quot;</span>
</span><span id="__span-49-15"><a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a><span class="w">        </span><span class="k">break</span>
</span><span id="__span-49-16"><a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a><span class="w">    </span><span class="k">else</span>
</span><span id="__span-49-17"><a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Waiting for the Grid. Sleeping for </span><span class="nv">$wait_interval_in_seconds</span><span class="s2"> second(s). </span><span class="nv">$time_left</span><span class="s2"> seconds left until timeout.&quot;</span>
</span><span id="__span-49-18"><a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a><span class="w">        </span>sleep<span class="w"> </span><span class="nv">$wait_interval_in_seconds</span>
</span><span id="__span-49-19"><a id="__codelineno-49-19" name="__codelineno-49-19" href="#__codelineno-49-19"></a><span class="w">        </span><span class="nv">time_left</span><span class="o">=</span><span class="k">$((</span><span class="nv">time_left</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">wait_interval_in_seconds</span><span class="k">))</span>
</span><span id="__span-49-20"><a id="__codelineno-49-20" name="__codelineno-49-20" href="#__codelineno-49-20"></a><span class="w">    </span><span class="k">fi</span>
</span><span id="__span-49-21"><a id="__codelineno-49-21" name="__codelineno-49-21" href="#__codelineno-49-21"></a><span class="k">done</span>
</span><span id="__span-49-22"><a id="__codelineno-49-22" name="__codelineno-49-22" href="#__codelineno-49-22"></a>
</span><span id="__span-49-23"><a id="__codelineno-49-23" name="__codelineno-49-23" href="#__codelineno-49-23"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$SECONDS</span><span class="w"> </span>-ge<span class="w"> </span><span class="nv">$end_time</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-49-24"><a id="__codelineno-49-24" name="__codelineno-49-24" href="#__codelineno-49-24"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Timeout: The Grid was not started within </span><span class="nv">$max_wait_time_in_seconds</span><span class="s2"> seconds.&quot;</span>
</span><span id="__span-49-25"><a id="__codelineno-49-25" name="__codelineno-49-25" href="#__codelineno-49-25"></a><span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
</span><span id="__span-49-26"><a id="__codelineno-49-26" name="__codelineno-49-26" href="#__codelineno-49-26"></a><span class="k">fi</span>
</span></code></pre></div>
<blockquote>
<p>Will require <code>jq</code> installed via <code>apt-get</code>, else the script will keep printing <code>Waiting</code> without completing the execution.</p>
</blockquote>
<p><strong>Note:</strong> If needed, replace <code>localhost</code> and <code>4444</code> for the correct values in your environment. Also, this script is polling indefinitely, you might want
to tweak it and establish a timeout.</p>
<p>Let's say that the normal command to execute your tests is <code>mvn clean test</code>. Here is a way to use the above script and execute your tests:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>$<span class="w"> </span>./wait-for-grid.sh<span class="w"> </span>mvn<span class="w"> </span>clean<span class="w"> </span><span class="nb">test</span>
</span></code></pre></div>
<p>Like this, the script will poll until the Grid is ready, and then your tests will start.</p>
<hr />
<h2 id="install-certificates-for-chromium-based-browsers">Install certificates for Chromium-based browsers<a class="headerlink" href="#install-certificates-for-chromium-based-browsers" title="Permanent link">&para;</a></h2>
<p>If you need to install custom certificates, CA, intermediate CA, or client certificates (for example enterprise internal CA)
you can use the different utils that come from libnss3-tools.
The chromium-based browser uses nssdb as a certificate store.
Create a new nssdb:<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>certutil<span class="w"> </span>-d<span class="w"> </span>sql:<span class="nv">$HOME</span>/.pki/nssdb<span class="w"> </span>-N
</span></code></pre></div>
For example, to trust a root CA certificate for issuing SSL server certificates, use
<div class="language-bash highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>certutil<span class="w"> </span>-d<span class="w"> </span>sql:<span class="nv">$HOME</span>/.pki/nssdb<span class="w"> </span>-A<span class="w"> </span>-t<span class="w"> </span><span class="s2">&quot;C,,&quot;</span><span class="w"> </span>-n<span class="w"> </span>&lt;certificate<span class="w"> </span>nickname&gt;<span class="w"> </span>-i<span class="w"> </span>&lt;certificate<span class="w"> </span>filename&gt;
</span></code></pre></div>
To import an intermediate CA certificate, use
<div class="language-bash highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a>certutil<span class="w"> </span>-d<span class="w"> </span>sql:<span class="nv">$HOME</span>/.pki/nssdb<span class="w"> </span>-A<span class="w"> </span>-t<span class="w"> </span><span class="s2">&quot;,,&quot;</span><span class="w"> </span>-n<span class="w"> </span>&lt;certificate<span class="w"> </span>nickname&gt;<span class="w"> </span>-i<span class="w"> </span>&lt;certificate<span class="w"> </span>filename&gt;
</span></code></pre></div>
You can find more information <a href="https://chromium.googlesource.com/chromium/src/+/master/docs/linux/cert_management.md">here</a>
Usage example:
If your company has an internal CA you can create your own dockerimage from selenium node image.
You can then install all required internal certificates in your Dockerfile like this:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>FROM<span class="w"> </span>selenium/node-edge:latest
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>USER<span class="w"> </span>root
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>COPY<span class="w"> </span>certs/<span class="w"> </span>/etc/certs<span class="w"> </span><span class="c1"># copy over the certificate file</span>
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="c1">#=========</span>
</span><span id="__span-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a><span class="c1"># libnss3-tools</span>
</span><span id="__span-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a><span class="c1"># Network Security Service tools</span>
</span><span id="__span-54-8"><a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a><span class="c1"># Manage certificates in nssdb (certutil, pk12util, modutil, shlibsign, signtool, ssltap)</span>
</span><span id="__span-54-9"><a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a><span class="c1">#=========</span>
</span><span id="__span-54-10"><a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a>RUN<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span>-qqy<span class="w"> </span><span class="se">\</span>
</span><span id="__span-54-11"><a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>-qqy<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
</span><span id="__span-54-12"><a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a><span class="w">    </span>libnss3-tools<span class="w"> </span><span class="se">\</span>
</span><span id="__span-54-13"><a id="__codelineno-54-13" name="__codelineno-54-13" href="#__codelineno-54-13"></a><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/var/lib/apt/lists/*<span class="w"> </span>/var/cache/apt/*
</span><span id="__span-54-14"><a id="__codelineno-54-14" name="__codelineno-54-14" href="#__codelineno-54-14"></a>
</span><span id="__span-54-15"><a id="__codelineno-54-15" name="__codelineno-54-15" href="#__codelineno-54-15"></a>RUN<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>-m755<span class="w"> </span>/home/seluser/.pki/nssdb<span class="w"> </span><span class="se">\ </span><span class="c1">#create nssdb folder</span>
</span><span id="__span-54-16"><a id="__codelineno-54-16" name="__codelineno-54-16" href="#__codelineno-54-16"></a><span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span>certutil<span class="w"> </span>-d<span class="w"> </span>sql:/home/seluser/.pki/nssdb<span class="w"> </span>-N<span class="w"> </span>--empty-password<span class="w"> </span><span class="se">\ </span><span class="c1"># create new db without password</span>
</span><span id="__span-54-17"><a id="__codelineno-54-17" name="__codelineno-54-17" href="#__codelineno-54-17"></a><span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span>certutil<span class="w"> </span>-d<span class="w"> </span>sql:/home/seluser/.pki/nssdb<span class="w"> </span>-A<span class="w"> </span>-t<span class="w"> </span><span class="s2">&quot;C,,&quot;</span><span class="w"> </span>-n<span class="w"> </span>companyca<span class="w"> </span>-i<span class="w"> </span>/etc/certs/companeca.pem<span class="w"> </span><span class="se">\ </span><span class="c1">#trust company CA</span>
</span><span id="__span-54-18"><a id="__codelineno-54-18" name="__codelineno-54-18" href="#__codelineno-54-18"></a><span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span>pk12util<span class="w"> </span>-d<span class="w"> </span>sql:/home/seluser/.pki/nssdb<span class="w"> </span>-i<span class="w"> </span>client_cert.p12<span class="w"> </span>-W<span class="w"> </span>password_of_clent_cert<span class="w"> </span><span class="c1"># client certificate install</span>
</span></code></pre></div>
This way the certificates will be installed and the node will start automatically as before.</p>
<hr />
<h2 id="alternative-method-add-certificates-to-existing-selenium-based-images-for-browsers">Alternative method: Add certificates to existing Selenium based images for browsers<a class="headerlink" href="#alternative-method-add-certificates-to-existing-selenium-based-images-for-browsers" title="Permanent link">&para;</a></h2>
<p>As an alternative, you can add your certificate files to existing Selenium images. This practical example
assumes you have a known image to use as a build image and have a way to publish new images to your local
docker registry.</p>
<p>This example uses a RedHat-based distro as a build image (Rocky Linux) but it can be <em>any</em> Linux image of your choice.
Please note that build instruction will vary between distributions. You can check the instructions for Ubuntu
in the previous example.</p>
<p>The example also assumes your internal CA is already in <em>/etc/pki/ca-trust/source/anchors/YOUR_CA.pem</em>,
the default location for Rocky Linux. Alternatively, you can also provide these files from your host and 
copy them into the build image.</p>
<p>For Chrome and Edge browsers, the recipe is the same, just adapt the image name (node-chrome or node-edge):
<div class="language-text highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a># Get a standard image for creating nssdb file
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>FROM rockylinux:8.6 as build
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a>RUN yum install -y nss-tools
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a>RUN mkdir -p -m755 /seluser/.pki/nssdb \
</span><span id="__span-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a>    &amp;&amp; certutil -d sql:/seluser/.pki/nssdb -N --empty-password \
</span><span id="__span-55-6"><a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a>    &amp;&amp; certutil -d sql:/seluser/.pki/nssdb -A -t &quot;C,,&quot; -n YOUR_CA -i /etc/pki/ca-trust/source/anchors/YOUR_CA.pem \
</span><span id="__span-55-7"><a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a>    &amp;&amp; chown -R 1200:1201 /seluser
</span><span id="__span-55-8"><a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a>
</span><span id="__span-55-9"><a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a># Start from Selenium image and add relevant files from build image
</span><span id="__span-55-10"><a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a>FROM selenium/node-chrome:4.12.1-20230912
</span><span id="__span-55-11"><a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a>USER root
</span><span id="__span-55-12"><a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a>COPY --from=build /seluser/ /home/seluser/
</span><span id="__span-55-13"><a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a>USER seluser
</span></code></pre></div></p>
<p>Example for Firefox:
<div class="language-text highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a># Get a standard image for working on
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>FROM rockylinux:8.6 as build
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a>RUN mkdir -p &quot;/distribution&quot; &quot;/certs&quot; &amp;&amp; \
</span><span id="__span-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a>    cp /etc/pki/ca-trust/source/anchors/YOUR_CA*.pem /certs/ &amp;&amp; \
</span><span id="__span-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a>    echo &#39;{ &quot;policies&quot;: { &quot;Certificates&quot;: { &quot;Install&quot;: [&quot;/opt/firefox-latest/YOUR_CA.pem&quot;] }} }&#39; &gt;&quot;/distribution/policies.json&quot;
</span><span id="__span-56-6"><a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a>
</span><span id="__span-56-7"><a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a># Start from Selenium image and add relevant files from build image
</span><span id="__span-56-8"><a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a>FROM selenium/node-firefox:4.12.1-20230912
</span><span id="__span-56-9"><a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a>USER root
</span><span id="__span-56-10"><a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a>COPY --from=build /certs /opt/firefox-latest
</span><span id="__span-56-11"><a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a>COPY --from=build /distribution /opt/firefox-latest/distribution
</span><span id="__span-56-12"><a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a>USER seluser
</span></code></pre></div></p>
<hr />
<h2 id="debugging">Debugging<a class="headerlink" href="#debugging" title="Permanent link">&para;</a></h2>
<p>This project uses <a href="https://github.com/LibVNC/x11vnc">x11vnc</a> as a VNC server to allow users to inspect what is happening
inside the container. Users can connect to this server in two ways:</p>
<h3 id="using-a-vnc-client">Using a VNC client<a class="headerlink" href="#using-a-vnc-client" title="Permanent link">&para;</a></h3>
<p>The VNC server is listening to port 5900, you can use a VNC client and connect to it. Feel free to map port 5900 to 
any free external port that you wish.</p>
<p>The internal 5900 port remains the same because that is the configured port for the VNC server running inside the container. 
You can override it with the <code>SE_VNC_PORT</code> environment variable in case you want to use <code>--net=host</code>.</p>
<p>Here is an example with the standalone images, the same concept applies to the node images.
<div class="language-bash highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span>-p<span class="w"> </span><span class="m">5900</span>:5900<span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/standalone-chrome:4.12.1-20230912
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4445</span>:4444<span class="w"> </span>-p<span class="w"> </span><span class="m">5901</span>:5900<span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/standalone-edge:4.12.1-20230912
</span><span id="__span-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4446</span>:4444<span class="w"> </span>-p<span class="w"> </span><span class="m">5902</span>:5900<span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/standalone-firefox:4.12.1-20230912
</span></code></pre></div></p>
<p>Then, you would use in your VNC client:
- Port 5900 to connect to the Chrome container
- Port 5901 to connect to the Edge container
- Port 5902 to connect to the Firefox container</p>
<p>If you get a prompt asking for a password, it is: <code>secret</code>. If you wish to change this, 
you can set the environment variable <code>SE_VNC_PASSWORD</code>.</p>
<p>If you want to run VNC without password authentication you can set the environment variable <code>SE_VNC_NO_PASSWORD=1</code>.</p>
<p>If you want to run VNC in view-only mode you can set the environment variable <code>SE_VNC_VIEW_ONLY=1</code>.</p>
<h3 id="using-your-browser-no-vnc-client-is-needed">Using your browser (no VNC client is needed)<a class="headerlink" href="#using-your-browser-no-vnc-client-is-needed" title="Permanent link">&para;</a></h3>
<p>This project uses <a href="https://github.com/novnc/noVNC">noVNC</a> to allow users to inspect visually container activity with
their browser. This might come in handy if you cannot install a VNC client on your machine. Port 7900 is used to start
noVNC, so you will need to connect to that port with your browser.</p>
<p>Similarly to the previous section, feel free to map port 7900 to any free external port that you wish.
You can also override it with the <code>SE_NO_VNC_PORT</code> environment variable in case you want to use <code>--net=host</code>.</p>
<p>Here is an example with the standalone images, the same concept applies to the node images.
<div class="language-bash highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span>-p<span class="w"> </span><span class="m">7900</span>:7900<span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/standalone-chrome:4.12.1-20230912
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4445</span>:4444<span class="w"> </span>-p<span class="w"> </span><span class="m">7901</span>:7900<span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/standalone-edge:4.12.1-20230912
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4446</span>:4444<span class="w"> </span>-p<span class="w"> </span><span class="m">7902</span>:7900<span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span>selenium/standalone-firefox:4.12.1-20230912
</span></code></pre></div></p>
<p>Then, you would use in your browser:
- <a href="http://localhost:7900/">http://localhost:7900/</a> to connect to the Chrome container
- <a href="http://localhost:7901/">http://localhost:7901/</a> to connect to the Edge container
- <a href="http://localhost:7902/">http://localhost:7902/</a> to connect to the Firefox container</p>
<p>If you get a prompt asking for a password, it is: <code>secret</code>.</p>
<h3 id="disabling-vnc">Disabling VNC<a class="headerlink" href="#disabling-vnc" title="Permanent link">&para;</a></h3>
<p>If You are running low on resources, or simply don't need to inspect running sessions, it is possible to not run VNC at all.
Just set 
<code>SE_START_VNC=false</code>
environment variable on the grid startup.</p>
<hr />
<h2 id="tracing-in-grid">Tracing in Grid<a class="headerlink" href="#tracing-in-grid" title="Permanent link">&para;</a></h2>
<p>In order to enable tracing in the Selenium Grid container, the following commands can be executed:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>grid
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">16686</span>:16686<span class="w"> </span>-p<span class="w"> </span><span class="m">14250</span>:14250<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>--name<span class="w"> </span>jaeger<span class="w"> </span>jaegertracing/all-in-one:1.17
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4442</span>-4444:4442-4444<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>--name<span class="w"> </span>selenium-hub<span class="w"> </span>selenium/hub:4.12.1-20230912
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>selenium-hub<span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_ENABLE_TRACING</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">JAVA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Dotel.traces.exporter=jaeger -Dotel.exporter.jaeger.endpoint=http://jaegar:14250 -Dotel.resource.attributes=service.name=selenium-hub&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-9"><a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-10"><a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a><span class="w">    </span>selenium/node-chrome:4.12.1-20230912
</span><span id="__span-59-11"><a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>selenium-hub<span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-12"><a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-13"><a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_ENABLE_TRACING</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-14"><a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">JAVA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Dotel.traces.exporter=jaeger -Dotel.exporter.jaeger.endpoint=http://jaegar:14250 -Dotel.resource.attributes=service.name=selenium-node-edge&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-15"><a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-16"><a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-17"><a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a><span class="w">    </span>selenium/node-edge:4.12.1-20230912
</span><span id="__span-59-18"><a id="__codelineno-59-18" name="__codelineno-59-18" href="#__codelineno-59-18"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--net<span class="w"> </span>grid<span class="w"> </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_HOST</span><span class="o">=</span>selenium-hub<span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-19"><a id="__codelineno-59-19" name="__codelineno-59-19" href="#__codelineno-59-19"></a><span class="w">    </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-20"><a id="__codelineno-59-20" name="__codelineno-59-20" href="#__codelineno-59-20"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_ENABLE_TRACING</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-21"><a id="__codelineno-59-21" name="__codelineno-59-21" href="#__codelineno-59-21"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">JAVA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Dotel.traces.exporter=jaeger -Dotel.exporter.jaeger.endpoint=http://jaegar:14250 -Dotel.resource.attributes=service.name=selenium-node-firefox&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-22"><a id="__codelineno-59-22" name="__codelineno-59-22" href="#__codelineno-59-22"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_PUBLISH_PORT</span><span class="o">=</span><span class="m">4442</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-23"><a id="__codelineno-59-23" name="__codelineno-59-23" href="#__codelineno-59-23"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">SE_EVENT_BUS_SUBSCRIBE_PORT</span><span class="o">=</span><span class="m">4443</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-59-24"><a id="__codelineno-59-24" name="__codelineno-59-24" href="#__codelineno-59-24"></a><span class="w">    </span>selenium/node-firefox:4.12.1-20230912
</span></code></pre></div>
<p>You can also refer to the below docker-compose yaml files to be able to start a simple grid (or) a dynamic grid.</p>
<ul>
<li>Simple Grid <a href="docker-compose-v3-tracing.yml">v3 yaml file</a></li>
<li>Simple Grid <a href="docker-compose-v2-tracing.yml">v2 yaml file</a></li>
<li>Dynamic Grid <a href="docker-compose-v3-full-grid-tracing.yml">v3 yaml file</a></li>
</ul>
<p>You can view the <a href="http://localhost:16686/">Jaegar UI</a> and trace your request.</p>
<hr />
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<p>All output gets sent to stdout, so it can be inspected by running:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>$<span class="w"> </span>docker<span class="w"> </span>logs<span class="w"> </span>-f<span class="w"> </span>&lt;container-id<span class="p">|</span>container-name&gt;
</span></code></pre></div></p>
<p>You can increase the log output by passing environment variable to the containers:
<div class="language-text highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>SE_OPTS=&quot;--log-level FINE&quot;
</span></code></pre></div></p>
<h3 id="-shm-size2g"><code>--shm-size="2g"</code><a class="headerlink" href="#-shm-size2g" title="Permanent link">&para;</a></h3>
<p>Why is <code>--shm-size 2g</code> necessary?</p>
<blockquote>
<p>This is a known workaround to avoid the browser crashing inside a docker container, here are the documented issues for
<a href="https://code.google.com/p/chromium/issues/detail?id=519952">Chrome</a> and <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1338771#c10">Firefox</a>.
The shm size of 2gb is arbitrary but known to work well, your specific use case might need a different value, it is recommended
to tune this value according to your needs.</p>
</blockquote>
<h3 id="headless">Headless<a class="headerlink" href="#headless" title="Permanent link">&para;</a></h3>
<p>If you see the following selenium exceptions:</p>
<p><code>Message: invalid argument: can't kill an exited process</code></p>
<p>or</p>
<p><code>Message: unknown error: Chrome failed to start: exited abnormally</code></p>
<p>The reason <em>might</em> be that you've set the <code>START_XVFB</code> environment variable to "false", but forgot to 
actually run Firefox, Chrome or Edge in headless mode.</p>
<h3 id="mounting-volumes-to-retrieve-downloaded-files">Mounting volumes to retrieve downloaded files<a class="headerlink" href="#mounting-volumes-to-retrieve-downloaded-files" title="Permanent link">&para;</a></h3>
<p>A common scenario is mounting a volume to the browser 
container in order to retrieve downloaded files. This
works well in Windows and macOS but not without 
workarounds in Linux. For more details, check this
well-documented <a href="https://github.com/SeleniumHQ/docker-selenium/issues/1095">issue</a>.</p>
<p>For example, while using Linux, you might be starting a
container in the following way:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">4444</span>:4444<span class="w"> </span>--shm-size<span class="o">=</span><span class="s2">&quot;2g&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="w">  </span>-v<span class="w"> </span>/home/ubuntu/files:/home/seluser/files<span class="w"> </span><span class="se">\</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="w">  </span>selenium/standalone-chrome:4.12.1-20230912
</span></code></pre></div>
<p>That will mount the host <code>/home/ubuntu/files</code> directory
to the <code>/home/seluser/files</code> inside the container. The
problem happens because the volume will be mounted as
<code>root</code>; therefore, the browser cannot write a file to
that directory because it is running under the user 
<code>seluser</code>. This happens because that is how Docker mounts
volumes in Linux, more details in this <a href="https://github.com/moby/moby/issues/2259">issue</a>.</p>
<p>A workaround for this is to create a directory on the
host and change its permissions <strong>before mounting the volume</strong>. 
Depending on your user permissions, you might need to use 
<code>sudo</code> for some of these commands:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a>mkdir<span class="w"> </span>/home/ubuntu/files
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a>chown<span class="w"> </span><span class="m">1200</span>:1201<span class="w"> </span>/home/ubuntu/files
</span></code></pre></div>
<p>After doing this, you should be able to download files
to the mounted directory. If you have a better workaround,
please send us a pull request! </p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; Jon Mora

    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/juananmora/mkdocs-sample1" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/up42_" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "navigation.footer", "navigation.tracking", "toc.follow", "navigation.path", "navigation.expand", "navigation.instant", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>